{"ast":null,"code":"import \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      niveaux: [],\n      niveauForm: {\n        niveau: \"\",\n        type: \"\" // Ajout du type de niveau\n      },\n      isEdit: false,\n      editNiveauId: null\n    };\n  },\n  computed: {\n    uniqueTypes() {\n      return [...new Set(this.niveaux.map(niveau => niveau.type))];\n    }\n  },\n  methods: {\n    fetchNiveaux() {\n      axios.get(\"http://127.0.0.1:8000/api/niveaux-competence\", {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(response => {\n        this.niveaux = response.data;\n      }).catch(error => {\n        console.error(\"Il y a eu une erreur lors de la récupération des niveaux :\", error);\n      });\n    },\n    saveNiveau() {\n      const request = this.isEdit ? axios.put(`http://127.0.0.1:8000/api/niveaux-competence/${this.editNiveauId}`, this.niveauForm, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }) : axios.post(\"http://127.0.0.1:8000/api/niveaux-competence\", this.niveauForm, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      request.then(() => {\n        this.fetchNiveaux();\n        this.resetForm();\n      }).catch(error => {\n        console.error(\"Il y a eu une erreur lors de l'enregistrement du niveau :\", error);\n      });\n    },\n    editNiveau(niveau) {\n      this.niveauForm = {\n        niveau: niveau.niveau,\n        type: niveau.type // Ajout du type lors de la modification\n      };\n      this.isEdit = true;\n      this.editNiveauId = niveau.id;\n    },\n    deleteNiveau(id) {\n      axios.delete(`http://127.0.0.1:8000/api/niveaux-competence/${id}`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      }).then(() => {\n        this.fetchNiveaux();\n      }).catch(error => {\n        console.error(\"Il y a eu une erreur lors de la suppression du niveau :\", error);\n      });\n    },\n    resetForm() {\n      this.niveauForm = {\n        niveau: \"\",\n        type: \"\"\n      }; // Réinitialisation du type\n      this.isEdit = false;\n      this.editNiveauId = null;\n    }\n  },\n  mounted() {\n    this.fetchNiveaux();\n  }\n};","map":{"version":3,"names":["axios","data","niveaux","niveauForm","niveau","type","isEdit","editNiveauId","computed","uniqueTypes","Set","map","methods","fetchNiveaux","get","headers","Authorization","localStorage","getItem","then","response","catch","error","console","saveNiveau","request","put","post","resetForm","editNiveau","id","deleteNiveau","delete","mounted"],"sources":["C:\\Users\\gongue\\Desktop\\frontsbs\\src\\components\\intervenants\\Niveau_competence.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-4xl p-6 mx-auto bg-white rounded-lg shadow-md\">\r\n    <div class=\"flex justify-between items-center mb-6\">\r\n      <h1 class=\"text-2xl font-bold\">Gestion des Niveaux de Compétence</h1>\r\n      <router-link\r\n        to=\"/\"\r\n        class=\"px-4 py-2 text-white bg-blue-600 rounded-md hover:bg-blue-700\"\r\n      >\r\n        Retour\r\n      </router-link>\r\n    </div>\r\n\r\n    <!-- Formulaire d'ajout / modification d'un niveau de compétence -->\r\n    <form @submit.prevent=\"saveNiveau\" class=\"space-y-4\">\r\n      <div class=\"flex space-x-4\">\r\n        <div class=\"flex-1\">\r\n          <label for=\"type\" class=\"block text-sm font-medium text-gray-700\"\r\n            >Type de Niveau</label\r\n          >\r\n          <input\r\n            v-model=\"niveauForm.type\"\r\n            required\r\n            class=\"block w-full h-10 mt-1 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200\"\r\n            placeholder=\"Entrez le type de niveau\"\r\n          />\r\n        </div>\r\n        <div class=\"flex-1\">\r\n          <label for=\"niveau\" class=\"block text-sm font-medium text-gray-700\"\r\n            >Niveau de Compétence</label\r\n          >\r\n          <input\r\n            v-model=\"niveauForm.niveau\"\r\n            required\r\n            class=\"block w-full h-10 mt-1 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200\"\r\n            placeholder=\"Entrez le niveau de compétence\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        class=\"w-full h-10 text-white transition duration-200 bg-indigo-600 rounded-md hover:bg-indigo-700\"\r\n      >\r\n        {{ isEdit ? \"Modifier\" : \"Ajouter\" }} Niveau\r\n      </button>\r\n    </form>\r\n\r\n    <!-- Liste des niveaux de compétence regroupés par type -->\r\n    <div class=\"mt-6\">\r\n      <div v-for=\"type in uniqueTypes\" :key=\"type\" class=\"mb-4\">\r\n        <h2 class=\"text-xl font-semibold\">{{ type }}</h2>\r\n        <table class=\"min-w-full bg-white border border-gray-300\">\r\n          <thead>\r\n            <tr>\r\n              <th class=\"px-4 py-2 border-b\">Niveau de Compétence</th>\r\n              <th class=\"px-4 py-2 border-b\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"niveau in niveaux.filter((n) => n.type === type)\" :key=\"niveau.id\">\r\n              <td class=\"px-4 py-2 border-b\">{{ niveau.niveau }}</td>\r\n              <td class=\"px-4 py-2 border-b\">\r\n                <button\r\n                  @click=\"editNiveau(niveau)\"\r\n                  class=\"text-blue-600 hover:text-blue-800\"\r\n                >\r\n                  Modifier\r\n                </button>\r\n                <button\r\n                  @click=\"deleteNiveau(niveau.id)\"\r\n                  class=\"ml-2 text-red-600 hover:text-red-800\"\r\n                >\r\n                  Supprimer\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      niveaux: [],\r\n      niveauForm: {\r\n        niveau: \"\",\r\n        type: \"\", // Ajout du type de niveau\r\n      },\r\n      isEdit: false,\r\n      editNiveauId: null,\r\n    };\r\n  },\r\n  computed: {\r\n    uniqueTypes() {\r\n      return [...new Set(this.niveaux.map((niveau) => niveau.type))];\r\n    },\r\n  },\r\n  methods: {\r\n    fetchNiveaux() {\r\n      axios\r\n        .get(\"http://127.0.0.1:8000/api/niveaux-competence\", {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          this.niveaux = response.data;\r\n        })\r\n        .catch((error) => {\r\n          console.error(\r\n            \"Il y a eu une erreur lors de la récupération des niveaux :\",\r\n            error\r\n          );\r\n        });\r\n    },\r\n    saveNiveau() {\r\n      const request = this.isEdit\r\n        ? axios.put(\r\n            `http://127.0.0.1:8000/api/niveaux-competence/${this.editNiveauId}`,\r\n            this.niveauForm,\r\n            {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n              },\r\n            }\r\n          )\r\n        : axios.post(\"http://127.0.0.1:8000/api/niveaux-competence\", this.niveauForm, {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n          });\r\n\r\n      request\r\n        .then(() => {\r\n          this.fetchNiveaux();\r\n          this.resetForm();\r\n        })\r\n        .catch((error) => {\r\n          console.error(\r\n            \"Il y a eu une erreur lors de l'enregistrement du niveau :\",\r\n            error\r\n          );\r\n        });\r\n    },\r\n    editNiveau(niveau) {\r\n      this.niveauForm = {\r\n        niveau: niveau.niveau,\r\n        type: niveau.type, // Ajout du type lors de la modification\r\n      };\r\n      this.isEdit = true;\r\n      this.editNiveauId = niveau.id;\r\n    },\r\n    deleteNiveau(id) {\r\n      axios\r\n        .delete(`http://127.0.0.1:8000/api/niveaux-competence/${id}`, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        })\r\n        .then(() => {\r\n          this.fetchNiveaux();\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Il y a eu une erreur lors de la suppression du niveau :\", error);\r\n        });\r\n    },\r\n    resetForm() {\r\n      this.niveauForm = { niveau: \"\", type: \"\" }; // Réinitialisation du type\r\n      this.isEdit = false;\r\n      this.editNiveauId = null;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchNiveaux();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Ajoutez des styles personnalisés ici si nécessaire */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}