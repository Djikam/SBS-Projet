{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex items-center justify-center min-h-screen bg-gray-100\"\n};\nconst _hoisted_2 = {\n  class: \"px-8 py-6 mt-4 text-left bg-white shadow-lg\"\n};\nconst _hoisted_3 = {\n  class: \"mt-4\"\n};\nconst _hoisted_4 = {\n  class: \"mt-4\"\n};\nconst _hoisted_5 = {\n  class: \"relative\"\n};\nconst _hoisted_6 = [\"type\"];\nconst _hoisted_7 = {\n  key: 0,\n  class: \"w-6 h-6 text-gray-500\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"w-6 h-6 text-gray-500\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_9 = {\n  class: \"mt-4\"\n};\nconst _hoisted_10 = {\n  class: \"relative\"\n};\nconst _hoisted_11 = [\"type\"];\nconst _hoisted_12 = {\n  key: 0,\n  class: \"w-6 h-6 text-gray-500\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_13 = {\n  key: 1,\n  class: \"w-6 h-6 text-gray-500\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_14 = {\n  class: \"mt-2\"\n};\nconst _hoisted_15 = {\n  class: \"mt-4\"\n};\nconst _hoisted_16 = {\n  class: \"relative\"\n};\nconst _hoisted_17 = [\"type\"];\nconst _hoisted_18 = {\n  key: 0,\n  class: \"w-6 h-6 text-gray-500\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_19 = {\n  key: 1,\n  class: \"w-6 h-6 text-gray-500\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_20 = {\n  key: 0,\n  class: \"mt-4 text-center text-red-500\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[20] || (_cache[20] = _createElementVNode(\"h3\", {\n    class: \"text-2xl font-bold text-center\"\n  }, \"Changement de mot de passe\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[8] || (_cache[8] = _withModifiers((...args) => $options.changePassword && $options.changePassword(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", null, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    class: \"block\",\n    for: \"email\"\n  }, \"Email\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.email = $event),\n    type: \"email\",\n    placeholder: \"Votre email\",\n    id: \"email\",\n    class: \"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.email]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[12] || (_cache[12] = _createElementVNode(\"label\", {\n    class: \"block\",\n    for: \"currentPassword\"\n  }, \"Mot de passe actuel\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.currentPassword = $event),\n    type: $data.showCurrentPassword ? 'text' : 'password',\n    placeholder: \"Mot de passe actuel\",\n    id: \"currentPassword\",\n    class: \"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n  }, null, 8 /* PROPS */, _hoisted_6), [[_vModelDynamic, $data.currentPassword]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.toggleShowCurrentPassword && $options.toggleShowCurrentPassword(...args)),\n    class: \"absolute transform -translate-y-1/2 right-2 top-1/2\"\n  }, [$data.showCurrentPassword ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_7, _cache[10] || (_cache[10] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n  }, null, -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_8, _cache[11] || (_cache[11] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.972 9.972 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878a3 3 0 104.243 4.243m-4.243 0a3 3 0 104.243-4.243M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n  }, null, -1 /* HOISTED */)])))])])]), _createElementVNode(\"div\", _hoisted_9, [_cache[15] || (_cache[15] = _createElementVNode(\"label\", {\n    class: \"block\",\n    for: \"newPassword\"\n  }, \"Nouveau mot de passe\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newPassword = $event),\n    type: $data.showNewPassword ? 'text' : 'password',\n    placeholder: \"Nouveau mot de passe\",\n    id: \"newPassword\",\n    class: \"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\",\n    onInput: _cache[4] || (_cache[4] = (...args) => $options.checkPasswordStrength && $options.checkPasswordStrength(...args))\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_11), [[_vModelDynamic, $data.newPassword]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.toggleShowNewPassword && $options.toggleShowNewPassword(...args)),\n    class: \"absolute transform -translate-y-1/2 right-2 top-1/2\"\n  }, [$data.showNewPassword ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_12, _cache[13] || (_cache[13] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n  }, null, -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_13, _cache[14] || (_cache[14] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.972 9.972 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878a3 3 0 104.243 4.243m-4.243 0a3 3 0 104.243-4.243M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n  }, null, -1 /* HOISTED */)])))])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"span\", {\n    class: _normalizeClass($options.passwordStrengthClass)\n  }, _toDisplayString($data.passwordStrengthMessage), 3 /* TEXT, CLASS */)])]), _createElementVNode(\"div\", _hoisted_15, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    class: \"block\",\n    for: \"confirmPassword\"\n  }, \"Confirmer le nouveau mot de passe\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_16, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.confirmPassword = $event),\n    type: $data.showConfirmPassword ? 'text' : 'password',\n    placeholder: \"Confirmer le nouveau mot de passe\",\n    id: \"confirmPassword\",\n    class: \"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\n  }, null, 8 /* PROPS */, _hoisted_17), [[_vModelDynamic, $data.confirmPassword]]), _createElementVNode(\"button\", {\n    type: \"button\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.toggleShowConfirmPassword && $options.toggleShowConfirmPassword(...args)),\n    class: \"absolute transform -translate-y-1/2 right-2 top-1/2\"\n  }, [$data.showConfirmPassword ? (_openBlock(), _createElementBlock(\"svg\", _hoisted_18, _cache[16] || (_cache[16] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\n  }, null, -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(\"svg\", _hoisted_19, _cache[17] || (_cache[17] = [_createElementVNode(\"path\", {\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    \"stroke-width\": \"2\",\n    d: \"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.972 9.972 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878a3 3 0 104.243 4.243m-4.243 0a3 3 0 104.243-4.243M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n  }, null, -1 /* HOISTED */)])))])])]), _cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"flex items-baseline justify-between\"\n  }, [_createElementVNode(\"button\", {\n    class: \"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\"\n  }, \" Changer le mot de passe \")], -1 /* HOISTED */))])], 32 /* NEED_HYDRATION */), $data.errorMessage ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","key","fill","stroke","viewBox","xmlns","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","onSubmit","_cache","_withModifiers","args","$options","changePassword","_hoisted_3","for","$event","$data","email","type","placeholder","id","_hoisted_4","_hoisted_5","currentPassword","showCurrentPassword","_hoisted_6","onClick","toggleShowCurrentPassword","_hoisted_7","d","_hoisted_8","_hoisted_9","_hoisted_10","newPassword","showNewPassword","onInput","checkPasswordStrength","_hoisted_11","toggleShowNewPassword","_hoisted_12","_hoisted_13","_hoisted_14","_normalizeClass","passwordStrengthClass","passwordStrengthMessage","_hoisted_15","_hoisted_16","confirmPassword","showConfirmPassword","_hoisted_17","toggleShowConfirmPassword","_hoisted_18","_hoisted_19","errorMessage","_hoisted_20","_toDisplayString","_createCommentVNode"],"sources":["C:\\Users\\gongue\\Desktop\\frontsbs\\src\\components\\Auth\\ChangePassword.vue"],"sourcesContent":["<template>\r\n  <div class=\"flex items-center justify-center min-h-screen bg-gray-100\">\r\n    <div class=\"px-8 py-6 mt-4 text-left bg-white shadow-lg\">\r\n      <h3 class=\"text-2xl font-bold text-center\">Changement de mot de passe</h3>\r\n      <form @submit.prevent=\"changePassword\">\r\n        <div class=\"mt-4\">\r\n          <div>\r\n            <label class=\"block\" for=\"email\">Email</label>\r\n            <input\r\n              v-model=\"email\"\r\n              type=\"email\"\r\n              placeholder=\"Votre email\"\r\n              id=\"email\"\r\n              class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\r\n            />\r\n          </div>\r\n          <div class=\"mt-4\">\r\n            <label class=\"block\" for=\"currentPassword\">Mot de passe actuel</label>\r\n            <div class=\"relative\">\r\n              <input\r\n                v-model=\"currentPassword\"\r\n                :type=\"showCurrentPassword ? 'text' : 'password'\"\r\n                placeholder=\"Mot de passe actuel\"\r\n                id=\"currentPassword\"\r\n                class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                @click=\"toggleShowCurrentPassword\"\r\n                class=\"absolute transform -translate-y-1/2 right-2 top-1/2\"\r\n              >\r\n                <svg\r\n                  v-if=\"showCurrentPassword\"\r\n                  class=\"w-6 h-6 text-gray-500\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                  ></path>\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n                  ></path>\r\n                </svg>\r\n                <svg\r\n                  v-else\r\n                  class=\"w-6 h-6 text-gray-500\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.972 9.972 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878a3 3 0 104.243 4.243m-4.243 0a3 3 0 104.243-4.243M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  ></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"mt-4\">\r\n            <label class=\"block\" for=\"newPassword\">Nouveau mot de passe</label>\r\n            <div class=\"relative\">\r\n              <input\r\n                v-model=\"newPassword\"\r\n                :type=\"showNewPassword ? 'text' : 'password'\"\r\n                placeholder=\"Nouveau mot de passe\"\r\n                id=\"newPassword\"\r\n                class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\r\n                @input=\"checkPasswordStrength\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                @click=\"toggleShowNewPassword\"\r\n                class=\"absolute transform -translate-y-1/2 right-2 top-1/2\"\r\n              >\r\n                <svg\r\n                  v-if=\"showNewPassword\"\r\n                  class=\"w-6 h-6 text-gray-500\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                  ></path>\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n                  ></path>\r\n                </svg>\r\n                <svg\r\n                  v-else\r\n                  class=\"w-6 h-6 text-gray-500\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.972 9.972 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878a3 3 0 104.243 4.243m-4.243 0a3 3 0 104.243-4.243M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  ></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <div class=\"mt-2\">\r\n              <span :class=\"passwordStrengthClass\">{{ passwordStrengthMessage }}</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"mt-4\">\r\n            <label class=\"block\" for=\"confirmPassword\">Confirmer le nouveau mot de passe</label>\r\n            <div class=\"relative\">\r\n              <input\r\n                v-model=\"confirmPassword\"\r\n                :type=\"showConfirmPassword ? 'text' : 'password'\"\r\n                placeholder=\"Confirmer le nouveau mot de passe\"\r\n                id=\"confirmPassword\"\r\n                class=\"w-full px-4 py-2 mt-2 border rounded-md focus:outline-none focus:ring-1 focus:ring-blue-600\"\r\n              />\r\n              <button\r\n                type=\"button\"\r\n                @click=\"toggleShowConfirmPassword\"\r\n                class=\"absolute transform -translate-y-1/2 right-2 top-1/2\"\r\n              >\r\n                <svg\r\n                  v-if=\"showConfirmPassword\"\r\n                  class=\"w-6 h-6 text-gray-500\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n                  ></path>\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"\r\n                  ></path>\r\n                </svg>\r\n                <svg\r\n                  v-else\r\n                  class=\"w-6 h-6 text-gray-500\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"\r\n                    stroke-width=\"2\"\r\n                    d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.972 9.972 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878a3 3 0 104.243 4.243m-4.243 0a3 3 0 104.243-4.243M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  ></path>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex items-baseline justify-between\">\r\n            <button\r\n              class=\"px-6 py-2 mt-4 text-white bg-blue-600 rounded-lg hover:bg-blue-900\"\r\n            >\r\n              Changer le mot de passe\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n      <div v-if=\"errorMessage\" class=\"mt-4 text-center text-red-500\">\r\n        {{ errorMessage }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { API_URL } from '@/config';\r\n\r\nexport default {\r\n  props: {\r\n    temporaryToken: {\r\n      type: String,\r\n      default: null,\r\n    },\r\n  },\r\n  name: \"ChangePassword\",\r\n  data() {\r\n    return {\r\n      email: \"\",\r\n      currentPassword: \"\",\r\n      newPassword: \"\",\r\n      confirmPassword: \"\",\r\n      errorMessage: \"\",\r\n      showCurrentPassword: false,\r\n      showNewPassword: false,\r\n      showConfirmPassword: false,\r\n      passwordStrength: 0,\r\n      passwordStrengthMessage: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    passwordStrengthClass() {\r\n      switch (this.passwordStrength) {\r\n        case 1:\r\n          return \"text-red-500\";\r\n        case 2:\r\n          return \"text-yellow-500\";\r\n        case 3:\r\n          return \"text-green-500\";\r\n        default:\r\n          return \"\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    toggleShowCurrentPassword() {\r\n      this.showCurrentPassword = !this.showCurrentPassword;\r\n    },\r\n    toggleShowNewPassword() {\r\n      this.showNewPassword = !this.showNewPassword;\r\n    },\r\n    toggleShowConfirmPassword() {\r\n      this.showConfirmPassword = !this.showConfirmPassword;\r\n    },\r\n    checkPasswordStrength() {\r\n      const password = this.newPassword;\r\n      let strength = 0;\r\n\r\n      if (password.length >= 8) strength++;\r\n      if (/[A-Z]/.test(password)) strength++;\r\n      if (/[0-9]/.test(password)) strength++;\r\n      if (/[\\W_]/.test(password)) strength++;\r\n\r\n      this.passwordStrength = strength;\r\n      switch (strength) {\r\n        case 1:\r\n          this.passwordStrengthMessage = \"Faible\";\r\n          break;\r\n        case 2:\r\n          this.passwordStrengthMessage = \"Moyen\";\r\n          break;\r\n        case 3:\r\n          this.passwordStrengthMessage = \"Fort\";\r\n          break;\r\n        default:\r\n          this.passwordStrengthMessage = \"\";\r\n      }\r\n    },\r\n    async changePassword() {\r\n      if (this.newPassword !== this.confirmPassword) {\r\n        this.errorMessage = \"Les nouveaux mots de passe ne correspondent pas.\";\r\n        return;\r\n      }\r\n\r\n      try {\r\n        let token = this.temporaryToken || localStorage.getItem(\"token\");\r\n        const response = await axios.post(\r\n          \"http://127.0.0.1:8000/api/\" `${API_URL}/user`,\r\n          {\r\n            email: this.email,\r\n            old_password: this.currentPassword,\r\n            password: this.newPassword,\r\n            password_confirmation: this.confirmPassword,\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n              Accept: \"application/json\",\r\n            },\r\n          }\r\n        );\r\n\r\n        if (response.data.message === \"Votre mot de passe a été changé avec succès.\") {\r\n          this.$router.push(\"/login\");\r\n          return;\r\n        }\r\n\r\n        if (response.data.success) {\r\n          if (response.data.token) {\r\n            localStorage.setItem(\"token\", response.data.token);\r\n          }\r\n\r\n          let user = JSON.parse(localStorage.getItem(\"user\")) || {};\r\n          user.firstConnect = \"NO\";\r\n          localStorage.setItem(\"user\", JSON.stringify(user));\r\n\r\n          this.$router.go(user.type === 0 ? \"/mycalendar\" : \"/projet\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Erreur complète:\", error);\r\n        if (error.response) {\r\n          console.error(\"Réponse du serveur:\", error.response.data);\r\n          if (error.response.data.errors) {\r\n            this.errorMessage = error.response.data.errors.join(\", \");\r\n          } else if (error.response.data.message) {\r\n            this.errorMessage = error.response.data.message;\r\n          } else {\r\n            this.errorMessage = \"Une erreur s'est produite. Veuillez réessayer.\";\r\n          }\r\n        } else {\r\n          this.errorMessage = \"Aucune réponse du serveur. Veuillez réessayer plus tard.\";\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAA2D;;EAC/DA,KAAK,EAAC;AAA6C;;EAG/CA,KAAK,EAAC;AAAM;;EAWVA,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAAU;mBAlBjC;;EAAAC,GAAA;EAiCkBD,KAAK,EAAC,uBAAuB;EAC7BE,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrBC,OAAO,EAAC,WAAW;EACnBC,KAAK,EAAC;;;EArCxBJ,GAAA;EAsDkBD,KAAK,EAAC,uBAAuB;EAC7BE,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrBC,OAAO,EAAC,WAAW;EACnBC,KAAK,EAAC;;;EAYTL,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAAU;oBAxEjC;;EAAAC,GAAA;EAwFkBD,KAAK,EAAC,uBAAuB;EAC7BE,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrBC,OAAO,EAAC,WAAW;EACnBC,KAAK,EAAC;;;EA5FxBJ,GAAA;EA6GkBD,KAAK,EAAC,uBAAuB;EAC7BE,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrBC,OAAO,EAAC,WAAW;EACnBC,KAAK,EAAC;;;EAWPL,KAAK,EAAC;AAAM;;EAIdA,KAAK,EAAC;AAAM;;EAEVA,KAAK,EAAC;AAAU;oBAlIjC;;EAAAC,GAAA;EAiJkBD,KAAK,EAAC,uBAAuB;EAC7BE,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrBC,OAAO,EAAC,WAAW;EACnBC,KAAK,EAAC;;;EArJxBJ,GAAA;EAsKkBD,KAAK,EAAC,uBAAuB;EAC7BE,IAAI,EAAC,MAAM;EACXC,MAAM,EAAC,cAAc;EACrBC,OAAO,EAAC,WAAW;EACnBC,KAAK,EAAC;;;EA1KxBJ,GAAA;EA+L+BD,KAAK,EAAC;;;uBA9LnCM,mBAAA,CAkMM,OAlMNC,UAkMM,GAjMJC,mBAAA,CAgMM,OAhMNC,UAgMM,G,4BA/LJD,mBAAA,CAA0E;IAAtER,KAAK,EAAC;EAAgC,GAAC,4BAA0B,sBACrEQ,mBAAA,CA0LO;IA1LAE,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAJnBC,cAAA,KAAAC,IAAA,KAI6BC,QAAA,CAAAC,cAAA,IAAAD,QAAA,CAAAC,cAAA,IAAAF,IAAA,CAAc;MACnCL,mBAAA,CAwLM,OAxLNQ,UAwLM,GAvLJR,mBAAA,CASM,c,0BARJA,mBAAA,CAA8C;IAAvCR,KAAK,EAAC,OAAO;IAACiB,GAAG,EAAC;KAAQ,OAAK,sB,gBACtCT,mBAAA,CAME;IAdd,uBAAAG,MAAA,QAAAA,MAAA,MAAAO,MAAA,IASuBC,KAAA,CAAAC,KAAK,GAAAF,MAAA;IACdG,IAAI,EAAC,OAAO;IACZC,WAAW,EAAC,aAAa;IACzBC,EAAE,EAAC,OAAO;IACVvB,KAAK,EAAC;iDAJGmB,KAAA,CAAAC,KAAK,E,KAOlBZ,mBAAA,CAqDM,OArDNgB,UAqDM,G,4BApDJhB,mBAAA,CAAsE;IAA/DR,KAAK,EAAC,OAAO;IAACiB,GAAG,EAAC;KAAkB,qBAAmB,sBAC9DT,mBAAA,CAkDM,OAlDNiB,UAkDM,G,gBAjDJjB,mBAAA,CAME;IAzBhB,uBAAAG,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAoByBC,KAAA,CAAAO,eAAe,GAAAR,MAAA;IACvBG,IAAI,EAAEF,KAAA,CAAAQ,mBAAmB;IAC1BL,WAAW,EAAC,qBAAqB;IACjCC,EAAE,EAAC,iBAAiB;IACpBvB,KAAK,EAAC;0BAxBtB4B,UAAA,I,iBAoByBT,KAAA,CAAAO,eAAe,E,GAM1BlB,mBAAA,CAyCS;IAxCPa,IAAI,EAAC,QAAQ;IACZQ,OAAK,EAAAlB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAgB,yBAAA,IAAAhB,QAAA,CAAAgB,yBAAA,IAAAjB,IAAA,CAAyB;IACjCb,KAAK,EAAC;MAGEmB,KAAA,CAAAQ,mBAAmB,I,cAD3BrB,mBAAA,CAoBM,OApBNyB,UAoBM,EAAApB,MAAA,SAAAA,MAAA,QAZJH,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;8BAEJxB,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;kDAGN1B,mBAAA,CAcM,OAdN2B,UAcM,EAAAtB,MAAA,SAAAA,MAAA,QANJH,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;wCAMZxB,mBAAA,CAyDM,OAzDN0B,UAyDM,G,4BAxDJ1B,mBAAA,CAAmE;IAA5DR,KAAK,EAAC,OAAO;IAACiB,GAAG,EAAC;KAAc,sBAAoB,sBAC3DT,mBAAA,CAmDM,OAnDN2B,WAmDM,G,gBAlDJ3B,mBAAA,CAOE;IAhFhB,uBAAAG,MAAA,QAAAA,MAAA,MAAAO,MAAA,IA0EyBC,KAAA,CAAAiB,WAAW,GAAAlB,MAAA;IACnBG,IAAI,EAAEF,KAAA,CAAAkB,eAAe;IACtBf,WAAW,EAAC,sBAAsB;IAClCC,EAAE,EAAC,aAAa;IAChBvB,KAAK,EAAC,6FAA6F;IAClGsC,OAAK,EAAA3B,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAyB,qBAAA,IAAAzB,QAAA,CAAAyB,qBAAA,IAAA1B,IAAA,CAAqB;2CA/E7C2B,WAAA,I,iBA0EyBrB,KAAA,CAAAiB,WAAW,E,GAOtB5B,mBAAA,CAyCS;IAxCPa,IAAI,EAAC,QAAQ;IACZQ,OAAK,EAAAlB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAA2B,qBAAA,IAAA3B,QAAA,CAAA2B,qBAAA,IAAA5B,IAAA,CAAqB;IAC7Bb,KAAK,EAAC;MAGEmB,KAAA,CAAAkB,eAAe,I,cADvB/B,mBAAA,CAoBM,OApBNoC,WAoBM,EAAA/B,MAAA,SAAAA,MAAA,QAZJH,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;8BAEJxB,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;kDAGN1B,mBAAA,CAcM,OAdNqC,WAcM,EAAAhC,MAAA,SAAAA,MAAA,QANJH,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;sCAKVxB,mBAAA,CAEM,OAFNoC,WAEM,GADJpC,mBAAA,CAAyE;IAAlER,KAAK,EA7H1B6C,eAAA,CA6H4B/B,QAAA,CAAAgC,qBAAqB;sBAAK3B,KAAA,CAAA4B,uBAAuB,wB,KAGnEvC,mBAAA,CAqDM,OArDNwC,WAqDM,G,4BApDJxC,mBAAA,CAAoF;IAA7ER,KAAK,EAAC,OAAO;IAACiB,GAAG,EAAC;KAAkB,mCAAiC,sBAC5ET,mBAAA,CAkDM,OAlDNyC,WAkDM,G,gBAjDJzC,mBAAA,CAME;IAzIhB,uBAAAG,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAoIyBC,KAAA,CAAA+B,eAAe,GAAAhC,MAAA;IACvBG,IAAI,EAAEF,KAAA,CAAAgC,mBAAmB;IAC1B7B,WAAW,EAAC,mCAAmC;IAC/CC,EAAE,EAAC,iBAAiB;IACpBvB,KAAK,EAAC;0BAxItBoD,WAAA,I,iBAoIyBjC,KAAA,CAAA+B,eAAe,E,GAM1B1C,mBAAA,CAyCS;IAxCPa,IAAI,EAAC,QAAQ;IACZQ,OAAK,EAAAlB,MAAA,QAAAA,MAAA,UAAAE,IAAA,KAAEC,QAAA,CAAAuC,yBAAA,IAAAvC,QAAA,CAAAuC,yBAAA,IAAAxC,IAAA,CAAyB;IACjCb,KAAK,EAAC;MAGEmB,KAAA,CAAAgC,mBAAmB,I,cAD3B7C,mBAAA,CAoBM,OApBNgD,WAoBM,EAAA3C,MAAA,SAAAA,MAAA,QAZJH,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;8BAEJxB,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;kDAGN1B,mBAAA,CAcM,OAdNiD,WAcM,EAAA5C,MAAA,SAAAA,MAAA,QANJH,mBAAA,CAKQ;IAJN,gBAAc,EAAC,OAAO;IACtB,iBAAe,EAAC,OAAO;IACvB,cAAY,EAAC,GAAG;IAChBwB,CAAC,EAAC;oEAMZxB,mBAAA,CAMM;IANDR,KAAK,EAAC;EAAqC,IAC9CQ,mBAAA,CAIS;IAHPR,KAAK,EAAC;EAAoE,GAC3E,2BAED,E,mDAIKmB,KAAA,CAAAqC,YAAY,I,cAAvBlD,mBAAA,CAEM,OAFNmD,WAEM,EAAAC,gBAAA,CADDvC,KAAA,CAAAqC,YAAY,oBAhMvBG,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}