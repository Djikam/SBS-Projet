{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.every.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport axios from 'axios';\nimport { API_URL } from '@/config'; // Assurez-vous que le chemin est correct\n\nexport default {\n  data() {\n    return {\n      domaines: [],\n      modules: [],\n      agences: [],\n      users: [],\n      form: {\n        name: '',\n        email: '',\n        password: '',\n        type: '',\n        agence_id: null // New field for agency selection\n      },\n      selectedDomaines: [],\n      selectedModules: [],\n      generatedPassword: '',\n      // Holds the generated password\n      passwordVisible: false\n    };\n  },\n  mounted() {\n    this.fetchDomaines();\n    this.fetchModules();\n    this.fetchAgencies();\n    this.fetchUser(); // Fetch the agencies list when component is mounted\n  },\n  methods: {\n    async fetchUser() {\n      try {\n        const response = await axios.get(`${API_URL}/user`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.users = response.data;\n        localStorage.setItem('userType', this.user.type);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    },\n    generatePassword() {\n      const chars = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()\";\n      let password = '';\n      for (let i = 0; i < 8; i++) {\n        const randomIndex = Math.floor(Math.random() * chars.length);\n        password += chars[randomIndex];\n      }\n      this.generatedPassword = password;\n      this.form.password = password;\n    },\n    togglePasswordVisibility() {\n      this.passwordVisible = !this.passwordVisible; // Toggle password visibility\n    },\n    async saveUser() {\n      try {\n        // 1. Enregistrer l'utilisateur\n        const userResponse = await axios.post(`${API_URL}/store`, this.form, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n\n        // V√©rifiez si l'utilisateur est bien enregistr√©\n        if (userResponse.status === 201) {\n          const userId = userResponse.data.user.id; // R√©cup√©rez l'ID de l'utilisateur nouvellement cr√©√©\n\n          // 2. Cr√©er l'association domaine de comp√©tence pour l'utilisateur\n          const competencePromises = this.selectedDomaines.map(domaineId => {\n            return axios.post(`${API_URL}/user-domaine-competence`, {\n              user_id: userId,\n              domaine_competence_id: domaineId,\n              niveau_competence_id: this.getNiveauFromDomaine(domaineId)\n            }, {\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n              }\n            });\n          });\n\n          // 3. Cr√©er l'association module de comp√©tence pour l'utilisateur\n          const modulePromises = this.selectedModules.map(moduleId => {\n            return axios.post(`${API_URL}/user-module-competence`, {\n              user_id: userId,\n              module_id: moduleId,\n              niveau_competence_id: this.getNiveauFromModule(moduleId)\n            }, {\n              headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n              }\n            });\n          });\n\n          // Attendre que toutes les promesses soient r√©solues\n          const competenceResponses = await Promise.all([...competencePromises, ...modulePromises]);\n\n          // V√©rifiez si toutes les associations ont bien √©t√© cr√©√©es\n          const allSuccessful = competenceResponses.every(response => response.status === 201);\n          if (allSuccessful) {\n            // Rediriger apr√®s succ√®s\n            this.$router.push('/listPs');\n          }\n        }\n      } catch (error) {\n        console.error('Erreur lors de l\\'enregistrement:', error.response?.data?.errors || error.message);\n      }\n    },\n    fetchDomaines() {\n      axios.get(`${API_URL}/domaines-competence`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(response => {\n        this.domaines = response.data;\n      }).catch(error => {\n        console.error('Error fetching domaines:', error);\n      });\n    },\n    fetchModules() {\n      axios.get(`${API_URL}/modules`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(response => {\n        this.modules = response.data.modules || [];\n      }).catch(error => {\n        console.error('Error fetching modules:', error);\n      });\n    },\n    fetchAgencies() {\n      axios.get(`${API_URL}/agences`, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(response => {\n        this.agences = response.data.agences || [];\n      }).catch(error => {\n        console.error('Error fetching agencies:', error);\n      });\n    },\n    // M√©thode pour r√©cup√©rer le niveau de comp√©tence associ√© √† un domaine\n    getNiveauFromDomaine(domaineId) {\n      const domaine = this.domaines.find(d => d.id === domaineId);\n      return domaine ? domaine.niveauCompetence.id : null;\n    },\n    // M√©thode pour r√©cup√©rer le niveau de comp√©tence associ√© √† un module\n    getNiveauFromModule(moduleId) {\n      const module = this.modules.find(m => m.id === moduleId);\n      return module ? module.niveauCompetence.id : null;\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","data","domaines","modules","agences","users","form","name","email","password","type","agence_id","selectedDomaines","selectedModules","generatedPassword","passwordVisible","mounted","fetchDomaines","fetchModules","fetchAgencies","fetchUser","methods","response","get","headers","localStorage","getItem","setItem","user","error","console","generatePassword","chars","i","randomIndex","Math","floor","random","length","togglePasswordVisibility","saveUser","userResponse","post","Authorization","status","userId","id","competencePromises","map","domaineId","user_id","domaine_competence_id","niveau_competence_id","getNiveauFromDomaine","modulePromises","moduleId","module_id","getNiveauFromModule","competenceResponses","Promise","all","allSuccessful","every","$router","push","errors","message","then","catch","domaine","find","d","niveauCompetence","module","m"],"sources":["C:\\Users\\gongue\\Desktop\\frontsbs\\src\\components\\intervenants\\AddPs.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"flex items-center justify-center min-h-screen p-6 bg-gray-100\">\r\n      <div class=\"container max-w-screen-lg mx-auto\">\r\n        <div class=\"p-4 px-4 mb-6 bg-white rounded shadow-lg md:p-8\">\r\n          <div class=\"grid items-center justify-center grid-cols-1 gap-4 text-sm gap-y-2 lg:grid-cols-3\">\r\n            <div class=\"text-gray-600\">\r\n              <img src=\"@/assets/sbsN.jpeg\" alt=\"\">\r\n              <p class=\"text-lg font-medium\">Ajouter un Consultant</p>\r\n              <p class=\"text-xs\">S'il vous pla√Æt remplissez tous les champs</p>\r\n            </div>\r\n\r\n            <div class=\"lg:col-span-2\">\r\n              <div class=\"grid grid-cols-1 gap-4 text-sm gap-y-2 md:grid-cols-5\">\r\n                <div class=\"md:col-span-5\">\r\n                  <label for=\"name\">Noms</label>\r\n                  <input v-model=\"form.name\" type=\"text\" id=\"name\" class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\" placeholder=\"noms\" />\r\n                </div>\r\n\r\n                <div class=\"md:col-span-5\">\r\n                  <label for=\"email\">Email Address</label>\r\n                  <input v-model=\"form.email\" type=\"email\" id=\"email\" class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\" placeholder=\"email@domain.com\" />\r\n                </div>\r\n\r\n                <div class=\"md:col-span-5\">\r\n                  <label for=\"password\">Mot de Passe</label>\r\n                  <div class=\"relative\">\r\n                    <input\r\n                      v-model=\"form.password\"\r\n                      :type=\"passwordVisible ? 'text' : 'password'\"\r\n                      id=\"password\"\r\n                      class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\"\r\n                      placeholder=\"password\"\r\n                      readonly\r\n                    />\r\n                    <button @click=\"togglePasswordVisibility\" type=\"button\" class=\"absolute transform -translate-y-1/2 right-3 top-1/2\">\r\n                      <span v-if=\"passwordVisible\">üëÅÔ∏è</span>\r\n                      <span v-else>üëÅÔ∏è‚Äçüó®Ô∏è</span>\r\n                    </button>\r\n                  </div>\r\n                  <button @click=\"generatePassword\" class=\"px-4 py-2 mt-2 text-gray-800 bg-gray-300 rounded\">G√©n√©rer Mot de Passe</button>\r\n                </div>\r\n\r\n                <!-- Agency Select Dropdown -->\r\n                <div class=\"md:col-span-2\">\r\n                  <label for=\"agency\">Agence</label>\r\n                  <select v-model=\"form.agence_id\" id=\"agence\" class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\">\r\n                    <option value=\"\">Choisir une agence</option>\r\n                    <option v-for=\"agence in agences\" :key=\"agence.id\" :value=\"agence.id\">\r\n                      {{ agence.name }}\r\n                    </option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div class=\"md:col-span-2\">\r\n                  <label for=\"type\">R√¥le de l'utilisateur</label>\r\n                  <select v-model=\"form.type\" id=\"type\" class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\">\r\n                    <option value=\"\">Choisir</option>\r\n                    <option value=\"5\" v-if=\"users.type == 5\">Administrateur</option>\r\n                    <option value=\"4\">Manager</option>\r\n                    <option value=\"3\">Chef De Projet</option>\r\n                    <option value=\"0\">Consultant Technique</option>\r\n                    <option value=\"1\">Consultant Fonctionnel</option>\r\n                    <option value=\"2\">Consultant FullStack</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div class=\"md:col-span-2\">\r\n                  <label>Domaine de Comp√©tence</label>\r\n                  <div class=\"p-2 overflow-y-auto border rounded h-30 bg-gray-50\">\r\n                    <div v-for=\"domaine in domaines\" :key=\"domaine.id\" class=\"flex items-center mb-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        :id=\"'domaine_' + domaine.id\"\r\n                        :value=\"domaine.id\"\r\n                        v-model=\"selectedDomaines\"\r\n                        class=\"checkbox\"\r\n                      />\r\n                      <label :for=\"'domaine_' + domaine.id\" class=\"ml-2\">{{ domaine.nom }}</label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"md:col-span-2\">\r\n                  <label>Modules</label>\r\n                  <div class=\"p-2 overflow-y-auto border rounded h-30 bg-gray-50\">\r\n                    <div v-for=\"module in modules\" :key=\"module.id\" class=\"flex items-center mb-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        :id=\"'module_' + module.id\"\r\n                        :value=\"module.id\"\r\n                        v-model=\"selectedModules\"\r\n                        class=\"checkbox\"\r\n                      />\r\n                      <label :for=\"'module_' + module.id\" class=\"ml-2\">{{ module.nom }}</label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"text-center md:col-span-5\">\r\n                  <div class=\"inline-flex items-center justify-between space-x-6\">\r\n                    <router-link to=\"/listPs\">\r\n                      <button class=\"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700\">Retour</button>\r\n                    </router-link>\r\n                    <button @click=\"saveUser\" class=\"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700\">Enregistrer</button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { API_URL } from '@/config'; // Assurez-vous que le chemin est correct\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      domaines: [],\r\n      modules: [],\r\n      agences: [],\r\n      users: [],\r\n      form: {\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        type: '',\r\n        agence_id: null,  // New field for agency selection\r\n      },\r\n      selectedDomaines: [],\r\n      selectedModules: [],\r\n      generatedPassword: '',  // Holds the generated password\r\n      passwordVisible: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchDomaines();\r\n    this.fetchModules();\r\n    this.fetchAgencies();\r\n    this.fetchUser(); // Fetch the agencies list when component is mounted\r\n  },\r\n  methods: {\r\n    async fetchUser() {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/user`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        this.users = response.data;\r\n        localStorage.setItem('userType', this.user.type);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      }\r\n    },\r\n    generatePassword() {\r\n      const chars = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()\";\r\n      let password = '';\r\n      for (let i = 0; i < 8; i++) {\r\n        const randomIndex = Math.floor(Math.random() * chars.length);\r\n        password += chars[randomIndex];\r\n      }\r\n      this.generatedPassword = password;\r\n      this.form.password = password;\r\n    },\r\n    togglePasswordVisibility() {\r\n      this.passwordVisible = !this.passwordVisible;  // Toggle password visibility\r\n    },\r\n    async saveUser() {\r\n      try {\r\n        // 1. Enregistrer l'utilisateur\r\n        const userResponse = await axios.post(`${API_URL}/store`, this.form, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n\r\n        // V√©rifiez si l'utilisateur est bien enregistr√©\r\n        if (userResponse.status === 201) {\r\n          const userId = userResponse.data.user.id; // R√©cup√©rez l'ID de l'utilisateur nouvellement cr√©√©\r\n\r\n          // 2. Cr√©er l'association domaine de comp√©tence pour l'utilisateur\r\n          const competencePromises = this.selectedDomaines.map(domaineId => {\r\n            return axios.post(`${API_URL}/user-domaine-competence`, {\r\n              user_id: userId,\r\n              domaine_competence_id: domaineId,\r\n              niveau_competence_id: this.getNiveauFromDomaine(domaineId)\r\n            }, {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`\r\n              }\r\n            });\r\n          });\r\n\r\n          // 3. Cr√©er l'association module de comp√©tence pour l'utilisateur\r\n          const modulePromises = this.selectedModules.map(moduleId => {\r\n            return axios.post(`${API_URL}/user-module-competence`, {\r\n              user_id: userId,\r\n              module_id: moduleId,\r\n              niveau_competence_id: this.getNiveauFromModule(moduleId)\r\n            }, {\r\n              headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`\r\n              }\r\n            });\r\n          });\r\n\r\n          // Attendre que toutes les promesses soient r√©solues\r\n          const competenceResponses = await Promise.all([...competencePromises, ...modulePromises]);\r\n\r\n          // V√©rifiez si toutes les associations ont bien √©t√© cr√©√©es\r\n          const allSuccessful = competenceResponses.every(response => response.status === 201);\r\n          if (allSuccessful) {\r\n            // Rediriger apr√®s succ√®s\r\n            this.$router.push('/listPs');\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'enregistrement:', error.response?.data?.errors || error.message);\r\n      }\r\n    },\r\n    fetchDomaines() {\r\n      axios.get(`${API_URL}/domaines-competence`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.domaines = response.data;\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching domaines:', error);\r\n      });\r\n    },\r\n    fetchModules() {\r\n      axios.get(`${API_URL}/modules`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.modules = response.data.modules || [];\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching modules:', error);\r\n      });\r\n    },\r\n    fetchAgencies() {\r\n      axios.get(`${API_URL}/agences`, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      })\r\n      .then(response => {\r\n        this.agences = response.data.agences || [];\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching agencies:', error);\r\n      });\r\n    },\r\n    // M√©thode pour r√©cup√©rer le niveau de comp√©tence associ√© √† un domaine\r\n    getNiveauFromDomaine(domaineId) {\r\n      const domaine = this.domaines.find(d => d.id === domaineId);\r\n      return domaine ? domaine.niveauCompetence.id : null;\r\n    },\r\n    // M√©thode pour r√©cup√©rer le niveau de comp√©tence associ√© √† un module\r\n    getNiveauFromModule(moduleId) {\r\n      const module = this.modules.find(m => m.id === moduleId);\r\n      return module ? module.niveauCompetence.id : null;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Ajoutez vos styles ici */\r\n.checkbox {\r\n  appearance: none;\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid #ccc;\r\n  border-radius: 50%;\r\n  background: white;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  cursor: pointer;\r\n  transition: background 0.3s, border-color 0.3s;\r\n}\r\n\r\n.checkbox:checked {\r\n  background: #4caf50;\r\n  border-color: #4caf50;\r\n}\r\n\r\n.checkbox:focus {\r\n  outline: none;\r\n}\r\n\r\n.checkbox:disabled {\r\n  background: #ccc;\r\n  border-color: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.checkbox + label {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  margin-left: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n.h-30 {\r\n  height: 120px;\r\n  overflow-y: auto;\r\n}\r\n\r\n.slide-fade-enter-active {\r\n  transition: all 0.5s ease;\r\n}\r\n.slide-fade-leave-active {\r\n  transition: all 0.5s ease;\r\n}\r\n.slide-fade-enter, .slide-fade-leave-to /* .slide-fade-leave-active in <2.1.8 */ {\r\n  transform: translateX(100%);\r\n  opacity: 0;\r\n}\r\n.modal-enter-active, .modal-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n.modal-enter, .modal-leave-to /* .modal-leave-active in <2.1.8 */ {\r\n  opacity: 0;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}