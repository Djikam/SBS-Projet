{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport { API_URL } from '@/config';\nexport default {\n  data() {\n    return {\n      form: {\n        nom: \"\",\n        description: \"\",\n        abbreviation: \"\",\n        color: \"\" // Ajout du champ color\n      }\n    };\n  },\n  watch: {\n    'form.nom': function (newVal) {\n      if (newVal.startsWith('c_')) {\n        this.form.color = '10'; // Set to green for Prévision de Mission\n      } else if (newVal.startsWith('r_')) {\n        this.form.color = '11'; // Set to indigo for Prévision de Récupération\n      } else if (newVal.startsWith('f_')) {\n        this.form.color = '12'; // Set to pink for Prévision de Formation\n      }\n    }\n  },\n  methods: {\n    async saveClient() {\n      try {\n        await axios.post(`${API_URL}/clients`, this.form, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        this.$router.push(\"/clients\");\n      } catch (error) {\n        // Handle error (show a message to the client, etc.)\n        console.error(\"Erreur lors de l'enregistrement du client:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","data","form","nom","description","abbreviation","color","watch","form.nom","newVal","startsWith","methods","saveClient","post","headers","Authorization","localStorage","getItem","$router","push","error","console"],"sources":["C:\\Users\\gongue\\Desktop\\frontsbs\\src\\components\\clients\\AddClientComponent.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- component -->\r\n    <div class=\"flex items-center justify-center min-h-screen p-6 bg-gray-100\">\r\n      <div class=\"container max-w-screen-lg mx-auto\">\r\n        <div>\r\n          <div class=\"p-4 px-4 mb-6 bg-white rounded shadow-lg md:p-8\">\r\n            <div class=\"grid items-center justify-center grid-cols-1 gap-4 text-sm gap-y-2 lg:grid-cols-3\">\r\n              <div class=\"text-gray-600\">\r\n                <img src=\"@/assets/sbsN.jpeg\" alt=\"\" />\r\n                <p class=\"text-lg font-medium\">Ajouter un Client</p>\r\n                <p class=\"text-xs\">S'il vous plaît remplissez tous les champs</p>\r\n              </div>\r\n\r\n              <div class=\"lg:col-span-2\">\r\n                <div class=\"grid grid-cols-1 gap-4 text-sm gap-y-2 md:grid-cols-5\">\r\n                  <div class=\"md:col-span-5\">\r\n                    <label for=\"nom\">Noms</label>\r\n                    <input\r\n                      v-model=\"form.nom\"\r\n                      type=\"text\"\r\n                      id=\"nom\"\r\n                      class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\"\r\n                      placeholder=\"noms\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"md:col-span-5\">\r\n                    <label for=\"abbreviation\">Abbreviation</label>\r\n                    <input\r\n                      v-model=\"form.abbreviation\"\r\n                      type=\"text\"\r\n                      id=\"abbreviation\"\r\n                      class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\"\r\n                      placeholder=\"abbreviation\"\r\n                    />\r\n                  </div>\r\n                  <div class=\"md:col-span-5\">\r\n                    <label for=\"description\">Description</label>\r\n                    <input\r\n                      v-model=\"form.description\"\r\n                      type=\"text\"\r\n                      id=\"description\"\r\n                      class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\"\r\n                      placeholder=\"text....\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div class=\"md:col-span-5\">\r\n                    <label for=\"color\">Couleur</label>\r\n                    <select\r\n                      v-model=\"form.color\"\r\n                      id=\"color\"\r\n                      class=\"w-full h-10 px-4 mt-1 border rounded bg-gray-50\"\r\n                    >\r\n                      <option value=\"\">Sélectionnez une couleur</option>\r\n                      <option value=\"1\">Client (Orange)</option>\r\n                      <option value=\"2\">Prévision (Jaune)</option>\r\n                      <option value=\"3\">Voyage (Bleu clair)</option>\r\n                      <option value=\"4\">Congé (Bleu ciel)</option>\r\n                      <option value=\"5\">Formation (Bleu)</option>\r\n                      <option value=\"6\">Récupération (Rouge)</option>\r\n                      <option value=\"7\">Congé maladie (Violet)</option>\r\n                      <option value=\"8\">Université (Sky)</option>\r\n                      <option value=\"9\">Avant Vente (Teal)</option>\r\n                      <option value=\"10\">Prévision de Congé (Maron)</option>\r\n                      <option value=\"11\">Prévision de Récupération (Indigo)</option>\r\n                      <option value=\"12\">Prévision de Formation (Rose)</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                  <div class=\"text-center md:col-span-5\">\r\n                    <div class=\"inline-flex items-center justify-between space-x-6\">\r\n                      <router-link to=\"/clients\">\r\n                        <button\r\n                          class=\"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700\"\r\n                        >\r\n                          Retour\r\n                        </button>\r\n                      </router-link>\r\n                      <button\r\n                        @click=\"saveClient\"\r\n                        class=\"px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700\"\r\n                      >\r\n                        Enregistrer\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { API_URL } from '@/config';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      form: {\r\n        nom: \"\",\r\n        description: \"\",\r\n        abbreviation: \"\",\r\n        color: \"\", // Ajout du champ color\r\n      },\r\n    };\r\n  },\r\n  watch: {\r\n    'form.nom': function(newVal) {\r\n      if (newVal.startsWith('c_')) {\r\n        this.form.color = '10'; // Set to green for Prévision de Mission\r\n      } else if (newVal.startsWith('r_')) {\r\n        this.form.color = '11'; // Set to indigo for Prévision de Récupération\r\n      } else if (newVal.startsWith('f_')) {\r\n        this.form.color = '12'; // Set to pink for Prévision de Formation\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async saveClient() {\r\n      try {\r\n        await axios.post(`${API_URL}/clients`, this.form, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        });\r\n        this.$router.push(\"/clients\");\r\n      } catch (error) {\r\n        // Handle error (show a message to the client, etc.)\r\n        console.error(\"Erreur lors de l'enregistrement du client:\", error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n"],"mappings":";AAkGA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,OAAM,QAAS,UAAU;AAElC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,GAAG,EAAE,EAAE;QACPC,WAAW,EAAE,EAAE;QACfC,YAAY,EAAE,EAAE;QAChBC,KAAK,EAAE,EAAE,CAAE;MACb;IACF,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACL,UAAU,EAAE,SAAAC,CAASC,MAAM,EAAE;MAC3B,IAAIA,MAAM,CAACC,UAAU,CAAC,IAAI,CAAC,EAAE;QAC3B,IAAI,CAACR,IAAI,CAACI,KAAI,GAAI,IAAI,EAAE;MAC1B,OAAO,IAAIG,MAAM,CAACC,UAAU,CAAC,IAAI,CAAC,EAAE;QAClC,IAAI,CAACR,IAAI,CAACI,KAAI,GAAI,IAAI,EAAE;MAC1B,OAAO,IAAIG,MAAM,CAACC,UAAU,CAAC,IAAI,CAAC,EAAE;QAClC,IAAI,CAACR,IAAI,CAACI,KAAI,GAAI,IAAI,EAAE;MAC1B;IACF;EACF,CAAC;EACDK,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI;QACF,MAAMb,KAAK,CAACc,IAAI,CAAC,GAAGb,OAAO,UAAU,EAAE,IAAI,CAACE,IAAI,EAAE;UAChDY,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACF,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,UAAU,CAAC;MAC/B,EAAE,OAAOC,KAAK,EAAE;QACd;QACAC,OAAO,CAACD,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MACpE;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}