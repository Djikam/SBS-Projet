{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\n/* eslint-disable no-undef */\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { API_URL } from '@/config'; // Importez l'URL de l'API depuis le fichier de configuration\n\nconst state = () => ({\n  apiUrl: API_URL,\n  currentYear: new Date().getFullYear(),\n  currentMonth: new Date().getMonth(),\n  currentDay: new Date().getDate(),\n  viewMode: 'month',\n  resources: [],\n  events: [],\n  clients: [],\n  isEventModalOpen: false,\n  selectedEvent: {},\n  selectedClient: null,\n  selectedClientId: null,\n  comment: '',\n  startDate: '',\n  endDate: '',\n  importance: 1,\n  user_id: null,\n  monthsOfYear: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],\n  clientSearch: '',\n  joursFeries: [],\n  bangeResults: [],\n  isBANGEModalOpen: false,\n  searchStartDate: '',\n  searchEndDate: '',\n  tnfSearchResults: [],\n  hoveredEvent: null,\n  hoveredDay: null,\n  bangeStartDate: '',\n  bangeEndDate: '',\n  selectedClientColor: ''\n});\nconst mutations = {\n  setCurrentYear(state, year) {\n    state.currentYear = year;\n  },\n  setCurrentMonth(state, month) {\n    state.currentMonth = month;\n  },\n  setCurrentDay(state, day) {\n    state.currentDay = day;\n  },\n  setViewMode(state, mode) {\n    state.viewMode = mode;\n  },\n  setResources(state, resources) {\n    state.resources = resources;\n  },\n  setEvents(state, events) {\n    state.events = events;\n  },\n  setClients(state, clients) {\n    state.clients = clients;\n  },\n  setIsEventModalOpen(state, isOpen) {\n    state.isEventModalOpen = isOpen;\n  },\n  setSelectedEvent(state, event) {\n    state.selectedEvent = event;\n  },\n  setSelectedClient(state, client) {\n    state.selectedClient = client;\n  },\n  setSelectedClientId(state, clientId) {\n    state.selectedClientId = clientId;\n  },\n  setComment(state, comment) {\n    state.comment = comment;\n  },\n  setStartDate(state, startDate) {\n    state.startDate = startDate;\n  },\n  setEndDate(state, endDate) {\n    state.endDate = endDate;\n  },\n  setImportance(state, importance) {\n    state.importance = importance;\n  },\n  setUserId(state, userId) {\n    state.user_id = userId;\n  },\n  setJoursFeries(state, joursFeries) {\n    state.joursFeries = joursFeries;\n  },\n  setBangeResults(state, bangeResults) {\n    state.bangeResults = bangeResults;\n  },\n  setIsBANGEModalOpen(state, isOpen) {\n    state.isBANGEModalOpen = isOpen;\n  },\n  setSearchStartDate(state, startDate) {\n    state.searchStartDate = startDate;\n  },\n  setSearchEndDate(state, endDate) {\n    state.searchEndDate = endDate;\n  },\n  setTnfSearchResults(state, results) {\n    state.tnfSearchResults = results;\n  },\n  setHoveredEvent(state, event) {\n    state.hoveredEvent = event;\n  },\n  setHoveredDay(state, day) {\n    state.hoveredDay = day;\n  },\n  setBangeStartDate(state, startDate) {\n    state.bangeStartDate = startDate;\n  },\n  setBangeEndDate(state, endDate) {\n    state.bangeEndDate = endDate;\n  },\n  setSelectedClientColor(state, color) {\n    state.selectedClientColor = color;\n  }\n};\nconst actions = {\n  async fetchUserData({\n    commit,\n    state\n  }) {\n    try {\n      const response = await axios.get(`${state.apiUrl}/me`, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      commit('setUserId', response.data.id);\n      return response.data;\n    } catch (error) {\n      console.error('Erreur lors de la récupération des données de l\\'utilisateur:', error);\n      return null;\n    }\n  },\n  async fetchResourcesAndEvents({\n    commit,\n    state\n  }) {\n    try {\n      const response = await axios.get(`${state.apiUrl}/mycalendar`, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const data = response.data;\n      commit('setResources', [{\n        id: data.id,\n        name: data.name,\n        interventions: data.interventions\n      }]);\n      commit('setEvents', data.interventions.map(intervention => ({\n        id: intervention.id,\n        name: intervention.commentaire,\n        startDate: intervention.date_debut,\n        endDate: intervention.date_fin,\n        resource: data.name,\n        color: intervention.client_color,\n        resourceId: data.id,\n        clientAbbreviation: intervention.client_abbreviation\n      })));\n    } catch (error) {\n      console.error('Erreur lors de la récupération des données:', error.response ? error.response.data : error.message);\n    }\n  },\n  async fetchClients({\n    commit,\n    state\n  }) {\n    try {\n      const response = await axios.get(`${state.apiUrl}/clients`, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      commit('setClients', response.data);\n    } catch (error) {\n      console.error('Erreur lors de la récupération des clients:', error);\n    }\n  },\n  async fetchJoursFeries({\n    commit,\n    state\n  }) {\n    try {\n      const response = await axios.get(`${state.apiUrl}/jours-feries`, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      commit('setJoursFeries', response.data);\n    } catch (error) {\n      console.error('Erreur lors de la récupération des jours fériés:', error);\n    }\n  },\n  async deleteEvent({\n    commit,\n    state\n  }) {\n    try {\n      await axios.delete(`${state.apiUrl}/interventions/${state.selectedEvent.id}`, {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      await dispatch('fetchResourcesAndEvents');\n      commit('setIsEventModalOpen', false);\n    } catch (error) {\n      console.error('Erreur lors de la suppression de l\\'événement:', error);\n      if (error.response) {\n        console.error('Détails de l\\'erreur:', error.response.data);\n      }\n    }\n  }\n};\nconst getters = {\n  filteredClients: state => {\n    return state.clients.filter(client => client.nom.toLowerCase().includes(state.clientSearch.toLowerCase()));\n  },\n  displayPeriod: state => {\n    if (state.viewMode === 'month') {\n      const firstDayOfMonth = new Date(state.currentYear, state.currentMonth, 1);\n      return format(firstDayOfMonth, 'MMMM yyyy');\n    } else if (state.viewMode === 'year') {\n      const firstDayOfYear = new Date(state.currentYear, 0, 1);\n      return format(firstDayOfYear, 'yyyy');\n    } else {\n      return `${state.currentYear}`;\n    }\n  },\n  formattedJoursFeries: state => {\n    return state.joursFeries.map(jourFerie => ({\n      date: format(new Date(jourFerie.date_ferie), 'yyyy-MM-dd'),\n      name: jourFerie.nom_ferie\n    }));\n  },\n  periodDays: state => {\n    return state.viewMode === 'month' ? getDaysInMonth(state.currentYear, state.currentMonth) : getDaysInYear(state.currentYear);\n  },\n  filteredResources: state => {\n    if (!state.searchStartDate || !state.searchEndDate) {\n      return state.resources;\n    }\n    const startDate = new Date(state.searchStartDate);\n    const endDate = new Date(state.searchEndDate);\n    return state.resources.filter(resource => {\n      const tnfDays = getTNFDaysInPeriod(resource, startDate, endDate);\n      return tnfDays.length > 0;\n    });\n  },\n  filteredEventsByDay: state => {\n    const filteredEvents = {};\n    state.resources.forEach(resource => {\n      filteredEvents[resource.name] = {};\n      state.periodDays.forEach(day => {\n        const dayDate = new Date(state.currentYear, state.currentMonth, day);\n        filteredEvents[resource.name][day] = state.events.filter(event => event.resource === resource.name && isEventOnDay(event, dayDate));\n      });\n    });\n    return filteredEvents;\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n};\nfunction getDaysInMonth(year, month) {\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\n  return Array.from({\n    length: daysInMonth\n  }, (_, i) => i + 1);\n}\nfunction getDaysInYear(year) {\n  const months = [];\n  for (let month = 0; month < 12; month++) {\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\n    const days = Array.from({\n      length: daysInMonth\n    }, (_, i) => i + 1);\n    months.push({\n      month: format(new Date(year, month), 'MMMM'),\n      days\n    });\n  }\n  return months;\n}\nfunction getTNFDaysInPeriod(resource, startDate, endDate) {\n  const tnfDays = [];\n  const resourceEvents = state.events.filter(event => event.resource === resource.name);\n  for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {\n    if (isWeekend(d.getDate(), d.getMonth()).isWeekend || isJourFerie(d.getDate())) {\n      continue;\n    }\n    const eventsOnDay = resourceEvents.filter(event => isEventOnDay(event, d));\n    if (eventsOnDay.length === 0) {\n      tnfDays.push(new Date(d));\n    }\n  }\n  return tnfDays;\n}\nfunction isWeekend(day, month) {\n  const date = new Date(state.currentYear, month, day);\n  const dayOfWeek = date.getDay();\n  return {\n    isWeekend: dayOfWeek === 0 || dayOfWeek === 6,\n    dayOfWeek\n  };\n}\nfunction isJourFerie(day) {\n  const date = new Date(state.currentYear, state.currentMonth, day);\n  const formattedDate = format(date, 'yyyy-MM-dd');\n  return state.formattedJoursFeries.some(jour => jour.date === formattedDate);\n}\nfunction isEventOnDay(event, day) {\n  const eventStart = new Date(event.startDate);\n  const eventEnd = new Date(event.endDate);\n  const dayOfWeek = day.getDay();\n  const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;\n  const dayDate = new Date(day.getFullYear(), day.getMonth(), day.getDate());\n  const eventStartDate = new Date(eventStart.getFullYear(), eventStart.getMonth(), eventStart.getDate());\n  const eventEndDate = new Date(eventEnd.getFullYear(), eventEnd.getMonth(), eventEnd.getDate());\n  if (isWeekend) {\n    return (eventStart.getDay() === 0 || eventStart.getDay() === 6) && dayDate >= eventStartDate && dayDate <= eventEndDate;\n  } else {\n    return eventStart.getDay() !== 0 && eventStart.getDay() !== 6 && dayDate >= eventStartDate && dayDate <= eventEndDate;\n  }\n}","map":{"version":3,"names":["axios","format","API_URL","state","apiUrl","currentYear","Date","getFullYear","currentMonth","getMonth","currentDay","getDate","viewMode","resources","events","clients","isEventModalOpen","selectedEvent","selectedClient","selectedClientId","comment","startDate","endDate","importance","user_id","monthsOfYear","clientSearch","joursFeries","bangeResults","isBANGEModalOpen","searchStartDate","searchEndDate","tnfSearchResults","hoveredEvent","hoveredDay","bangeStartDate","bangeEndDate","selectedClientColor","mutations","setCurrentYear","year","setCurrentMonth","month","setCurrentDay","day","setViewMode","mode","setResources","setEvents","setClients","setIsEventModalOpen","isOpen","setSelectedEvent","event","setSelectedClient","client","setSelectedClientId","clientId","setComment","setStartDate","setEndDate","setImportance","setUserId","userId","setJoursFeries","setBangeResults","setIsBANGEModalOpen","setSearchStartDate","setSearchEndDate","setTnfSearchResults","results","setHoveredEvent","setHoveredDay","setBangeStartDate","setBangeEndDate","setSelectedClientColor","color","actions","fetchUserData","commit","response","get","headers","Authorization","localStorage","getItem","data","id","error","console","fetchResourcesAndEvents","name","interventions","map","intervention","commentaire","date_debut","date_fin","resource","client_color","resourceId","clientAbbreviation","client_abbreviation","message","fetchClients","fetchJoursFeries","deleteEvent","delete","dispatch","getters","filteredClients","filter","nom","toLowerCase","includes","displayPeriod","firstDayOfMonth","firstDayOfYear","formattedJoursFeries","jourFerie","date","date_ferie","nom_ferie","periodDays","getDaysInMonth","getDaysInYear","filteredResources","tnfDays","getTNFDaysInPeriod","length","filteredEventsByDay","filteredEvents","forEach","dayDate","isEventOnDay","namespaced","daysInMonth","Array","from","_","i","months","days","push","resourceEvents","d","setDate","isWeekend","isJourFerie","eventsOnDay","dayOfWeek","getDay","formattedDate","some","jour","eventStart","eventEnd","eventStartDate","eventEndDate"],"sources":["C:/Users/gongue/Desktop/frontsbs/src/store/modules/myCalendar.js"],"sourcesContent":["/* eslint-disable no-undef */\r\nimport axios from 'axios';\r\nimport { format } from 'date-fns';\r\nimport { API_URL } from '@/config'; // Importez l'URL de l'API depuis le fichier de configuration\r\n\r\nconst state = () => ({\r\n    apiUrl: API_URL,\r\n    currentYear: new Date().getFullYear(),\r\n    currentMonth: new Date().getMonth(),\r\n    currentDay: new Date().getDate(),\r\n    viewMode: 'month',\r\n    resources: [],\r\n    events: [],\r\n    clients: [],\r\n    isEventModalOpen: false,\r\n    selectedEvent: {},\r\n    selectedClient: null,\r\n    selectedClientId: null,\r\n    comment: '',\r\n    startDate: '',\r\n    endDate: '',\r\n    importance: 1,\r\n    user_id: null,\r\n    monthsOfYear: [\r\n        'Janvier',\r\n        'Février',\r\n        'Mars',\r\n        'Avril',\r\n        'Mai',\r\n        'Juin',\r\n        'Juillet',\r\n        'Août',\r\n        'Septembre',\r\n        'Octobre',\r\n        'Novembre',\r\n        'Décembre',\r\n    ],\r\n    clientSearch: '',\r\n    joursFeries: [],\r\n    bangeResults: [],\r\n    isBANGEModalOpen: false,\r\n    searchStartDate: '',\r\n    searchEndDate: '',\r\n    tnfSearchResults: [],\r\n    hoveredEvent: null,\r\n    hoveredDay: null,\r\n    bangeStartDate: '',\r\n    bangeEndDate: '',\r\n    selectedClientColor: '',\r\n});\r\n\r\n\r\nconst mutations = {\r\n    setCurrentYear(state, year) {\r\n        state.currentYear = year;\r\n    },\r\n    setCurrentMonth(state, month) {\r\n        state.currentMonth = month;\r\n    },\r\n    setCurrentDay(state, day) {\r\n        state.currentDay = day;\r\n    },\r\n    setViewMode(state, mode) {\r\n        state.viewMode = mode;\r\n    },\r\n    setResources(state, resources) {\r\n        state.resources = resources;\r\n    },\r\n    setEvents(state, events) {\r\n        state.events = events;\r\n    },\r\n    setClients(state, clients) {\r\n        state.clients = clients;\r\n    },\r\n    setIsEventModalOpen(state, isOpen) {\r\n        state.isEventModalOpen = isOpen;\r\n    },\r\n    setSelectedEvent(state, event) {\r\n        state.selectedEvent = event;\r\n    },\r\n    setSelectedClient(state, client) {\r\n        state.selectedClient = client;\r\n    },\r\n    setSelectedClientId(state, clientId) {\r\n        state.selectedClientId = clientId;\r\n    },\r\n    setComment(state, comment) {\r\n        state.comment = comment;\r\n    },\r\n    setStartDate(state, startDate) {\r\n        state.startDate = startDate;\r\n    },\r\n    setEndDate(state, endDate) {\r\n        state.endDate = endDate;\r\n    },\r\n    setImportance(state, importance) {\r\n        state.importance = importance;\r\n    },\r\n    setUserId(state, userId) {\r\n        state.user_id = userId;\r\n    },\r\n    setJoursFeries(state, joursFeries) {\r\n        state.joursFeries = joursFeries;\r\n    },\r\n    setBangeResults(state, bangeResults) {\r\n        state.bangeResults = bangeResults;\r\n    },\r\n    setIsBANGEModalOpen(state, isOpen) {\r\n        state.isBANGEModalOpen = isOpen;\r\n    },\r\n    setSearchStartDate(state, startDate) {\r\n        state.searchStartDate = startDate;\r\n    },\r\n    setSearchEndDate(state, endDate) {\r\n        state.searchEndDate = endDate;\r\n    },\r\n    setTnfSearchResults(state, results) {\r\n        state.tnfSearchResults = results;\r\n    },\r\n    setHoveredEvent(state, event) {\r\n        state.hoveredEvent = event;\r\n    },\r\n    setHoveredDay(state, day) {\r\n        state.hoveredDay = day;\r\n    },\r\n    setBangeStartDate(state, startDate) {\r\n        state.bangeStartDate = startDate;\r\n    },\r\n    setBangeEndDate(state, endDate) {\r\n        state.bangeEndDate = endDate;\r\n    },\r\n    setSelectedClientColor(state, color) {\r\n        state.selectedClientColor = color;\r\n    },\r\n};\r\n\r\nconst actions = {\r\n    async fetchUserData({ commit, state }) {\r\n        try {\r\n            const response = await axios.get(`${state.apiUrl}/me`, {\r\n                headers: {\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n            commit('setUserId', response.data.id);\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des données de l\\'utilisateur:', error);\r\n            return null;\r\n        }\r\n    },\r\n    async fetchResourcesAndEvents({ commit, state }) {\r\n        try {\r\n            const response = await axios.get(`${state.apiUrl}/mycalendar`, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n            const data = response.data;\r\n            commit('setResources', [\r\n                {\r\n                    id: data.id,\r\n                    name: data.name,\r\n                    interventions: data.interventions,\r\n                },\r\n            ]);\r\n            commit('setEvents', data.interventions.map((intervention) => ({\r\n                id: intervention.id,\r\n                name: intervention.commentaire,\r\n                startDate: intervention.date_debut,\r\n                endDate: intervention.date_fin,\r\n                resource: data.name,\r\n                color: intervention.client_color,\r\n                resourceId: data.id,\r\n                clientAbbreviation: intervention.client_abbreviation,\r\n            })));\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des données:', error.response ? error.response.data : error.message);\r\n        }\r\n    },\r\n    async fetchClients({ commit, state }) {\r\n        try {\r\n            const response = await axios.get(`${state.apiUrl}/clients`, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n            commit('setClients', response.data);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des clients:', error);\r\n        }\r\n    },\r\n    async fetchJoursFeries({ commit, state }) {\r\n        try {\r\n            const response = await axios.get(`${state.apiUrl}/jours-feries`, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n            commit('setJoursFeries', response.data);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la récupération des jours fériés:', error);\r\n        }\r\n    },\r\n    async deleteEvent({ commit, state }) {\r\n        try {\r\n            await axios.delete(`${state.apiUrl}/interventions/${state.selectedEvent.id}`, {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Authorization: `Bearer ${localStorage.getItem('token')}`,\r\n                },\r\n            });\r\n            await dispatch('fetchResourcesAndEvents');\r\n            commit('setIsEventModalOpen', false);\r\n        } catch (error) {\r\n            console.error('Erreur lors de la suppression de l\\'événement:', error);\r\n            if (error.response) {\r\n                console.error('Détails de l\\'erreur:', error.response.data);\r\n            }\r\n        }\r\n    },\r\n};\r\n\r\nconst getters = {\r\n    filteredClients: (state) => {\r\n        return state.clients.filter((client) =>\r\n            client.nom.toLowerCase().includes(state.clientSearch.toLowerCase())\r\n        );\r\n    },\r\n    displayPeriod: (state) => {\r\n        if (state.viewMode === 'month') {\r\n            const firstDayOfMonth = new Date(state.currentYear, state.currentMonth, 1);\r\n            return format(firstDayOfMonth, 'MMMM yyyy');\r\n        } else if (state.viewMode === 'year') {\r\n            const firstDayOfYear = new Date(state.currentYear, 0, 1);\r\n            return format(firstDayOfYear, 'yyyy');\r\n        } else {\r\n            return `${state.currentYear}`;\r\n        }\r\n    },\r\n    formattedJoursFeries: (state) => {\r\n        return state.joursFeries.map((jourFerie) => ({\r\n            date: format(new Date(jourFerie.date_ferie), 'yyyy-MM-dd'),\r\n            name: jourFerie.nom_ferie,\r\n        }));\r\n    },\r\n    periodDays: (state) => {\r\n        return state.viewMode === 'month' ? getDaysInMonth(state.currentYear, state.currentMonth) : getDaysInYear(state.currentYear);\r\n    },\r\n    filteredResources: (state) => {\r\n        if (!state.searchStartDate || !state.searchEndDate) {\r\n            return state.resources;\r\n        }\r\n\r\n        const startDate = new Date(state.searchStartDate);\r\n        const endDate = new Date(state.searchEndDate);\r\n\r\n        return state.resources.filter((resource) => {\r\n            const tnfDays = getTNFDaysInPeriod(resource, startDate, endDate);\r\n            return tnfDays.length > 0;\r\n        });\r\n    },\r\n    filteredEventsByDay: (state) => {\r\n        const filteredEvents = {};\r\n\r\n        state.resources.forEach((resource) => {\r\n            filteredEvents[resource.name] = {};\r\n\r\n            state.periodDays.forEach((day) => {\r\n                const dayDate = new Date(state.currentYear, state.currentMonth, day);\r\n                filteredEvents[resource.name][day] = state.events.filter(\r\n                    (event) =>\r\n                        event.resource === resource.name && isEventOnDay(event, dayDate)\r\n                );\r\n            });\r\n        });\r\n\r\n        return filteredEvents;\r\n    },\r\n};\r\n\r\nexport default {\r\n    namespaced: true,\r\n    state,\r\n    mutations,\r\n    actions,\r\n    getters,\r\n};\r\n\r\nfunction getDaysInMonth(year, month) {\r\n    const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n    return Array.from({ length: daysInMonth }, (_, i) => i + 1);\r\n}\r\n\r\nfunction getDaysInYear(year) {\r\n    const months = [];\r\n    for (let month = 0; month < 12; month++) {\r\n        const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n        const days = Array.from({ length: daysInMonth }, (_, i) => i + 1);\r\n        months.push({\r\n            month: format(new Date(year, month), 'MMMM'),\r\n            days,\r\n        });\r\n    }\r\n    return months;\r\n}\r\n\r\nfunction getTNFDaysInPeriod(resource, startDate, endDate) {\r\n    const tnfDays = [];\r\n    const resourceEvents = state.events.filter(\r\n        (event) => event.resource === resource.name\r\n    );\r\n\r\n    for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {\r\n        if (isWeekend(d.getDate(), d.getMonth()).isWeekend || isJourFerie(d.getDate())) {\r\n            continue;\r\n        }\r\n\r\n        const eventsOnDay = resourceEvents.filter((event) => isEventOnDay(event, d));\r\n        if (eventsOnDay.length === 0) {\r\n            tnfDays.push(new Date(d));\r\n        }\r\n    }\r\n\r\n    return tnfDays;\r\n}\r\n\r\nfunction isWeekend(day, month) {\r\n    const date = new Date(state.currentYear, month, day);\r\n    const dayOfWeek = date.getDay();\r\n    return { isWeekend: dayOfWeek === 0 || dayOfWeek === 6, dayOfWeek };\r\n}\r\n\r\nfunction isJourFerie(day) {\r\n    const date = new Date(state.currentYear, state.currentMonth, day);\r\n    const formattedDate = format(date, 'yyyy-MM-dd');\r\n    return state.formattedJoursFeries.some((jour) => jour.date === formattedDate);\r\n}\r\n\r\nfunction isEventOnDay(event, day) {\r\n    const eventStart = new Date(event.startDate);\r\n    const eventEnd = new Date(event.endDate);\r\n    const dayOfWeek = day.getDay();\r\n    const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;\r\n\r\n    const dayDate = new Date(day.getFullYear(), day.getMonth(), day.getDate());\r\n    const eventStartDate = new Date(\r\n        eventStart.getFullYear(),\r\n        eventStart.getMonth(),\r\n        eventStart.getDate()\r\n    );\r\n    const eventEndDate = new Date(\r\n        eventEnd.getFullYear(),\r\n        eventEnd.getMonth(),\r\n        eventEnd.getDate()\r\n    );\r\n\r\n    if (isWeekend) {\r\n        return (\r\n            (eventStart.getDay() === 0 || eventStart.getDay() === 6) &&\r\n            dayDate >= eventStartDate &&\r\n            dayDate <= eventEndDate\r\n        );\r\n    } else {\r\n        return (\r\n            eventStart.getDay() !== 0 &&\r\n            eventStart.getDay() !== 6 &&\r\n            dayDate >= eventStartDate &&\r\n            dayDate <= eventEndDate\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}