{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '@/config'; // Importer API_URL\n\nexport default {\n  data() {\n    return {\n      user: {\n        name: '',\n        email: '',\n        type: '',\n        agence: null,\n        domaines: []\n      }\n    };\n  },\n  mounted() {\n    this.fetchUserData();\n  },\n  computed: {\n    getCalendarRoute() {\n      const userType = localStorage.getItem('userType');\n      switch (userType) {\n        case '0':\n        case '1':\n        case '2':\n          return '/Mycalendar';\n        case '3':\n          return '/staff';\n        case '4':\n        case '5':\n          return '/projet';\n        default:\n          return '/';\n      }\n    }\n  },\n  methods: {\n    async fetchUserData() {\n      try {\n        const response = await axios.get(`${API_URL}/user`, {\n          headers: {\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        });\n        this.user = {\n          name: response.data.name,\n          email: response.data.email,\n          type: response.data.user_type,\n          agence: {\n            id: response.data.agence_id,\n            name: response.data.agence_name\n          },\n          domaines: response.data.domaines\n        };\n        localStorage.setItem('userType', this.user.type);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","API_URL","data","user","name","email","type","agence","domaines","mounted","fetchUserData","computed","getCalendarRoute","userType","localStorage","getItem","methods","response","get","headers","user_type","id","agence_id","agence_name","setItem","error","console"],"sources":["C:\\Users\\gongue\\Desktop\\frontsbs\\src\\components\\intervenants\\MyProfile.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"w-full max-w-full max-h-full p-4 overflow-hidden bg-white rounded-lg shadow-xl\">\r\n      <!-- User Info -->\r\n      <div class=\"flex justify-between gap-6 p-2\">\r\n        <router-link to=\"/\" class=\"flex items-center gap-2 px-4 py-2 pt-2 text-gray-700 transition-transform duration-300 transform bg-gray-300 rounded-full shadow-lg hover:scale-105\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"size-6\">\r\n            <path fill-rule=\"evenodd\" d=\"M16.5 3.75a1.5 1.5 0 0 1 1.5 1.5v13.5a1.5 1.5 0 0 1-1.5 1.5h-6a1.5 1.5 0 0 1-1.5-1.5V15a.75.75 0 0 0-1.5 0v3.75a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3V5.25a3 3 0 0 0-3-3h-6a3 3 0 0 0-3 3V9A.75.75 0 1 0 9 9V5.25a1.5 1.5 0 0 1 1.5-1.5h6Zm-5.03 4.72a.75.75 0 0 0 0 1.06l1.72 1.72H2.25a.75.75 0 0 0 0 1.5h10.94l-1.72 1.72a.75.75 0 1 0 1.06 1.06l3-3a.75.75 0 0 0 0-1.06l-3-3a.75.75 0 0 0-1.06 0Z\" clip-rule=\"evenodd\" />\r\n          </svg>\r\n          Retour\r\n        </router-link>\r\n        <router-link :to=\"getCalendarRoute\" class=\"flex items-center gap-2 px-4 py-2 pt-2 transition-transform duration-300 transform bg-blue-500 rounded-full shadow-lg text-gray-50 hover:scale-105\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"size-6\">\r\n            <path d=\"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z\" />\r\n            <path fill-rule=\"evenodd\" d=\"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z\" clip-rule=\"evenodd\" />\r\n          </svg>\r\n          voir le Calendrier\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n    <div class=\"container flex items-center justify-center w-auto p-2 mx-auto mt-20 md:p-0\">\r\n      <div class=\"grid grid-cols-1 gap-6 p-6 bg-white border border-gray-300 rounded-lg shadow-lg md:w-[1470px]\">\r\n        <div class=\"flex flex-col md:flex-row\">\r\n          <div class=\"bg-info hover:bg-infoActive text-white text-3xl py-2.5 px-5 mr-2 mb-2 rounded-xl transition duration-300\">\r\n            Mes informations\r\n          </div>\r\n        </div>\r\n        <div class=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n          <div class=\"gap-2 p-2 border border-gray-200 rounded\">\r\n            <div class=\"flex items-center p-2 bg-gray-300 border rounded\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"size-6\">\r\n                <path fill-rule=\"evenodd\" d=\"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z\" clip-rule=\"evenodd\" />\r\n              </svg>\r\n              <div class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n                {{ user.name }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"gap-2 p-2 border border-gray-200 rounded\">\r\n            <div class=\"flex items-center p-2 bg-gray-300 border rounded\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"size-6\">\r\n                <path d=\"M19.5 22.5a3 3 0 0 0 3-3v-8.174l-6.879 4.022 3.485 1.876a.75.75 0 1 1-.712 1.321l-5.683-3.06a1.5 1.5 0 0 0-1.422 0l-5.683 3.06a.75.75 0 0 1-.712-1.32l3.485-1.877L1.5 11.326V19.5a3 3 0 0 0 3 3h15Z\" />\r\n                <path d=\"M1.5 9.589v-.745a3 3 0 0 1 1.578-2.642l7.5-4.038a3 3 0 0 1 2.844 0l7.5 4.038A3 3 0 0 1 22.5 8.844v.745l-8.426 4.926-.652-.351a3 3 0 0 0-2.844 0l-.652.351L1.5 9.589Z\" />\r\n              </svg>\r\n              <div class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n                {{ user.email }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n    <div class=\"gap-2 p-2 border border-gray-200 rounded\">\r\n      <div class=\"flex items-center p-2 bg-gray-300 border rounded\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"size-6\">\r\n          <path fill-rule=\"evenodd\" d=\"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z\" clip-rule=\"evenodd\" />\r\n          <path d=\"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z\" />\r\n        </svg>\r\n        <div v-if=\"user.type == 0\" class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n          Consultant Technique\r\n        </div>\r\n        <div v-if=\"user.type == 1\" class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n          Consultant Fonctionnel\r\n        </div>\r\n        <div v-if=\"user.type == 2\" class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n          Consultant FullStack\r\n        </div>\r\n        <div v-if=\"user.type == 3\" class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n          Chef De Projet\r\n        </div>\r\n        <div v-if=\"user.type == 4\" class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n          Manager\r\n        </div>\r\n        <div v-if=\"user.type == 5\" class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n          Administrateur\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"gap-2 p-2 border border-gray-200 rounded\">\r\n      <div class=\"flex items-center p-2 bg-gray-300 border rounded\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" class=\"size-6\">\r\n          <path d=\"M19.006 3.705a.75.75 0 1 0-.512-1.41L6 6.838V3a.75.75 0 0 0-.75-.75h-1.5A.75.75 0 0 0 3 3v4.93l-1.006.365a.75.75 0 0 0 .512 1.41l16.5-6Z\" />\r\n          <path fill-rule=\"evenodd\" d=\"M3.019 11.114 18 5.667v3.421l4.006 1.457a.75.75 0 1 1-.512 1.41l-.494-.18v8.475h.75a.75.75 0 0 1 0 1.5H2.25a.75.75 0 0 1 0-1.5H3v-9.129l.019-.007ZM18 20.25v-9.566l1.5.546v9.02H18Zm-9-6a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h3a.75.75 0 0 0 .75-.75V15a.75.75 0 0 0-.75-.75H9Z\" clip-rule=\"evenodd\" />\r\n        </svg>\r\n        <div class=\"flex-grow max-w-full text-gray-700 bg-gray-300\">\r\n          {{ user.agence ? user.agence.name : 'Aucune agence assignée' }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"bg-primary hover:bg-primaryActive text-white text-3xl py-2.5 px-5 mr-2 mb-2 rounded-xl transition duration-300\">\r\n    Mes compétences\r\n  </div>\r\n  <div class=\"p-0 overflow-y-scroll\">\r\n    <table class=\"w-full mt-4 text-center table-auto min-w-max\">\r\n      <thead>\r\n        <tr>\r\n          <th class=\"p-2 text-xs font-semibold text-gray-700 bg-gray-200 border-gray-300 border-y\">Domaine</th>\r\n          <th class=\"p-2 text-xs font-semibold text-gray-700 bg-gray-200 border-gray-300 border-y\">Module</th>\r\n          <th class=\"p-2 text-xs font-semibold text-gray-700 bg-gray-200 border-gray-300 border-y\">Niveau</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(domaine, domaineIndex) in user.domaines\" :key=\"domaineIndex\">\r\n          <td class=\"p-2 text-xs font-semibold text-gray-700 border-b border-gray-300\">\r\n            {{ domaine.nom }}\r\n          </td>\r\n         \r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { API_URL } from '@/config'; // Importer API_URL\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        name: '',\r\n        email: '',\r\n        type: '',\r\n        agence: null,\r\n        domaines: [],\r\n      }\r\n    };\r\n  },\r\n  mounted() {\r\n    this.fetchUserData();\r\n  },\r\n  computed: {\r\n    getCalendarRoute() {\r\n      const userType = localStorage.getItem('userType');\r\n      switch (userType) {\r\n        case '0':\r\n        case '1':\r\n        case '2':\r\n          return '/Mycalendar';\r\n        case '3':\r\n          return '/staff';\r\n        case '4':\r\n        case '5':\r\n          return '/projet';\r\n        default:\r\n          return '/';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUserData() {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/user`, {\r\n          headers: {\r\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n          }\r\n        });\r\n        this.user = {\r\n          name: response.data.name,\r\n          email: response.data.email,\r\n          type: response.data.user_type,\r\n          agence: {\r\n            id: response.data.agence_id,\r\n            name: response.data.agence_name\r\n          },\r\n          domaines: response.data.domaines\r\n        };\r\n        localStorage.setItem('userType', this.user.type);\r\n      } catch (error) {\r\n        console.error('Error fetching user data:', error);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add any additional styles here */\r\n.text-xs {\r\n  font-size: 9px;\r\n}\r\n\r\n.bg-info {\r\n  background-color: #007bff;\r\n}\r\n\r\n.bg-infoActive {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.bg-primary {\r\n  background-color: #6c757d;\r\n}\r\n\r\n.bg-primaryActive {\r\n  background-color: #5a6268;\r\n}\r\n\r\n.hover\\:bg-infoActive:hover {\r\n  background-color: #0056b3;\r\n}\r\n\r\n.hover\\:bg-primaryActive:hover {\r\n  background-color: #5a6268;\r\n}\r\n</style>\r\n"],"mappings":"AAmHA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,OAAM,QAAS,UAAU,EAAE;;AAEpC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,IAAI,EAAE,EAAE;QACRC,MAAM,EAAE,IAAI;QACZC,QAAQ,EAAE;MACZ;IACF,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB,CAAC;EACDC,QAAQ,EAAE;IACRC,gBAAgBA,CAAA,EAAG;MACjB,MAAMC,QAAO,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;MACjD,QAAQF,QAAQ;QACd,KAAK,GAAG;QACR,KAAK,GAAG;QACR,KAAK,GAAG;UACN,OAAO,aAAa;QACtB,KAAK,GAAG;UACN,OAAO,QAAQ;QACjB,KAAK,GAAG;QACR,KAAK,GAAG;UACN,OAAO,SAAS;QAClB;UACE,OAAO,GAAG;MACd;IACF;EACF,CAAC;EACDG,OAAO,EAAE;IACP,MAAMN,aAAaA,CAAA,EAAG;MACpB,IAAI;QACF,MAAMO,QAAO,GAAI,MAAMjB,KAAK,CAACkB,GAAG,CAAC,GAAGjB,OAAO,OAAO,EAAE;UAClDkB,OAAO,EAAE;YACP,eAAe,EAAE,UAAUL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UAC1D;QACF,CAAC,CAAC;QACF,IAAI,CAACZ,IAAG,GAAI;UACVC,IAAI,EAAEa,QAAQ,CAACf,IAAI,CAACE,IAAI;UACxBC,KAAK,EAAEY,QAAQ,CAACf,IAAI,CAACG,KAAK;UAC1BC,IAAI,EAAEW,QAAQ,CAACf,IAAI,CAACkB,SAAS;UAC7Bb,MAAM,EAAE;YACNc,EAAE,EAAEJ,QAAQ,CAACf,IAAI,CAACoB,SAAS;YAC3BlB,IAAI,EAAEa,QAAQ,CAACf,IAAI,CAACqB;UACtB,CAAC;UACDf,QAAQ,EAAES,QAAQ,CAACf,IAAI,CAACM;QAC1B,CAAC;QACDM,YAAY,CAACU,OAAO,CAAC,UAAU,EAAE,IAAI,CAACrB,IAAI,CAACG,IAAI,CAAC;MAClD,EAAE,OAAOmB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACnD;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}