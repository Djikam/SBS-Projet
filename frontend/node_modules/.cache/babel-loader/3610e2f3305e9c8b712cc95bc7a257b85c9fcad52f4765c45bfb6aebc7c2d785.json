{"ast":null,"code":"// src/store/index.js\nimport { createStore } from 'vuex';\nimport { getWithCache } from '../api';\nconst store = createStore({\n  state() {\n    return {\n      users: [],\n      agencies: [],\n      searchQuery: \"\",\n      selectedAgency: \"\",\n      showCompetenceModal: false,\n      selectedUser: {}\n    };\n  },\n  mutations: {\n    setUsers(state, users) {\n      state.users = users;\n    },\n    setAgencies(state, agencies) {\n      state.agencies = agencies;\n    },\n    setSearchQuery(state, query) {\n      state.searchQuery = query;\n    },\n    setSelectedAgency(state, agency) {\n      state.selectedAgency = agency;\n    },\n    setShowCompetenceModal(state, show) {\n      state.showCompetenceModal = show;\n    },\n    setSelectedUser(state, user) {\n      state.selectedUser = user;\n    }\n  },\n  actions: {\n    async fetchUsers({\n      commit,\n      state\n    }) {\n      try {\n        let url = \"http://127.0.0.1:8000/api/users/type-zero\";\n        if (state.selectedAgency) {\n          url += `?agence_id=${state.selectedAgency}`;\n        }\n        const response = await getWithCache(url, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit('setUsers', response.data);\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n    async fetchAgencies({\n      commit\n    }) {\n      try {\n        const response = await getWithCache(\"http://127.0.0.1:8000/api/agences\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit('setAgencies', response.data.agences);\n      } catch (error) {\n        console.error(\"Error fetching agencies:\", error);\n      }\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","getWithCache","store","state","users","agencies","searchQuery","selectedAgency","showCompetenceModal","selectedUser","mutations","setUsers","setAgencies","setSearchQuery","query","setSelectedAgency","agency","setShowCompetenceModal","show","setSelectedUser","user","actions","fetchUsers","commit","url","response","headers","Authorization","localStorage","getItem","data","error","console","fetchAgencies","agences"],"sources":["C:/Users/gongue/Desktop/frontsbs/src/store/index.js"],"sourcesContent":["// src/store/index.js\nimport { createStore } from 'vuex';\nimport { getWithCache } from '../api';\n\nconst store = createStore({\n  state() {\n    return {\n      users: [],\n      agencies: [],\n      searchQuery: \"\",\n      selectedAgency: \"\",\n      showCompetenceModal: false,\n      selectedUser: {},\n    };\n  },\n  mutations: {\n    setUsers(state, users) {\n      state.users = users;\n    },\n    setAgencies(state, agencies) {\n      state.agencies = agencies;\n    },\n    setSearchQuery(state, query) {\n      state.searchQuery = query;\n    },\n    setSelectedAgency(state, agency) {\n      state.selectedAgency = agency;\n    },\n    setShowCompetenceModal(state, show) {\n      state.showCompetenceModal = show;\n    },\n    setSelectedUser(state, user) {\n      state.selectedUser = user;\n    },\n  },\n  actions: {\n    async fetchUsers({ commit, state }) {\n      try {\n        let url = \"http://127.0.0.1:8000/api/users/type-zero\";\n        if (state.selectedAgency) {\n          url += `?agence_id=${state.selectedAgency}`;\n        }\n        const response = await getWithCache(url, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        });\n        commit('setUsers', response.data);\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n    async fetchAgencies({ commit }) {\n      try {\n        const response = await getWithCache(\"http://127.0.0.1:8000/api/agences\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        });\n        commit('setAgencies', response.data.agences);\n      } catch (error) {\n        console.error(\"Error fetching agencies:\", error);\n      }\n    },\n  },\n});\n\nexport default store;"],"mappings":"AAAA;AACA,SAASA,WAAW,QAAQ,MAAM;AAClC,SAASC,YAAY,QAAQ,QAAQ;AAErC,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACxBG,KAAKA,CAAA,EAAG;IACN,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,WAAW,EAAE,EAAE;MACfC,cAAc,EAAE,EAAE;MAClBC,mBAAmB,EAAE,KAAK;MAC1BC,YAAY,EAAE,CAAC;IACjB,CAAC;EACH,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQA,CAACR,KAAK,EAAEC,KAAK,EAAE;MACrBD,KAAK,CAACC,KAAK,GAAGA,KAAK;IACrB,CAAC;IACDQ,WAAWA,CAACT,KAAK,EAAEE,QAAQ,EAAE;MAC3BF,KAAK,CAACE,QAAQ,GAAGA,QAAQ;IAC3B,CAAC;IACDQ,cAAcA,CAACV,KAAK,EAAEW,KAAK,EAAE;MAC3BX,KAAK,CAACG,WAAW,GAAGQ,KAAK;IAC3B,CAAC;IACDC,iBAAiBA,CAACZ,KAAK,EAAEa,MAAM,EAAE;MAC/Bb,KAAK,CAACI,cAAc,GAAGS,MAAM;IAC/B,CAAC;IACDC,sBAAsBA,CAACd,KAAK,EAAEe,IAAI,EAAE;MAClCf,KAAK,CAACK,mBAAmB,GAAGU,IAAI;IAClC,CAAC;IACDC,eAAeA,CAAChB,KAAK,EAAEiB,IAAI,EAAE;MAC3BjB,KAAK,CAACM,YAAY,GAAGW,IAAI;IAC3B;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAC;MAAEC,MAAM;MAAEpB;IAAM,CAAC,EAAE;MAClC,IAAI;QACF,IAAIqB,GAAG,GAAG,2CAA2C;QACrD,IAAIrB,KAAK,CAACI,cAAc,EAAE;UACxBiB,GAAG,IAAI,cAAcrB,KAAK,CAACI,cAAc,EAAE;QAC7C;QACA,MAAMkB,QAAQ,GAAG,MAAMxB,YAAY,CAACuB,GAAG,EAAE;UACvCE,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACFN,MAAM,CAAC,UAAU,EAAEE,QAAQ,CAACK,IAAI,CAAC;MACnC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF,CAAC;IACD,MAAME,aAAaA,CAAC;MAAEV;IAAO,CAAC,EAAE;MAC9B,IAAI;QACF,MAAME,QAAQ,GAAG,MAAMxB,YAAY,CAAC,mCAAmC,EAAE;UACvEyB,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACFN,MAAM,CAAC,aAAa,EAAEE,QAAQ,CAACK,IAAI,CAACI,OAAO,CAAC;MAC9C,CAAC,CAAC,OAAOH,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF;EACF;AACF,CAAC,CAAC;AAEF,eAAe7B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}