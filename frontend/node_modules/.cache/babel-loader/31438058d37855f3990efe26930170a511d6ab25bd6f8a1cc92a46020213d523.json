{"ast":null,"code":"import { createStore } from 'vuex';\nimport { getWithCache } from '../api';\nconst store = createStore({\n  state() {\n    return {\n      users: [],\n      agencies: [],\n      showCompetenceModal: false,\n      selectedUser: {}\n    };\n  },\n  mutations: {\n    setUsers(state, users) {\n      state.users = users;\n    },\n    setAgencies(state, agencies) {\n      state.agencies = agencies;\n    },\n    setShowCompetenceModal(state, show) {\n      state.showCompetenceModal = show;\n    },\n    setSelectedUser(state, user) {\n      state.selectedUser = user;\n    }\n  },\n  actions: {\n    async fetchUsers({\n      commit,\n      state\n    }) {\n      try {\n        let url = \"http://127.0.0.1:8000/api/users/type-zero\";\n        if (state.selectedAgency) {\n          url += `?agence_id=${state.selectedAgency}`;\n        }\n        const response = await getWithCache(url, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit('setUsers', response.data);\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n    async fetchAgencies({\n      commit\n    }) {\n      try {\n        const response = await getWithCache(\"http://127.0.0.1:8000/api/agences\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        commit('setAgencies', response.data.agences);\n      } catch (error) {\n        console.error(\"Error fetching agencies:\", error);\n      }\n    }\n  }\n});\nexport default store;","map":{"version":3,"names":["createStore","getWithCache","store","state","users","agencies","showCompetenceModal","selectedUser","mutations","setUsers","setAgencies","setShowCompetenceModal","show","setSelectedUser","user","actions","fetchUsers","commit","url","selectedAgency","response","headers","Authorization","localStorage","getItem","data","error","console","fetchAgencies","agences"],"sources":["C:/Users/gongue/Desktop/frontsbs/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\nimport { getWithCache } from '../api';\n\nconst store = createStore({\n  state() {\n    return {\n      users: [],\n      agencies: [],\n      showCompetenceModal: false,\n      selectedUser: {},\n    };\n  },\n  mutations: {\n    setUsers(state, users) {\n      state.users = users;\n    },\n    setAgencies(state, agencies) {\n      state.agencies = agencies;\n    },\n    setShowCompetenceModal(state, show) {\n      state.showCompetenceModal = show;\n    },\n    setSelectedUser(state, user) {\n      state.selectedUser = user;\n    },\n  },\n  actions: {\n    async fetchUsers({ commit, state }) {\n      try {\n        let url = \"http://127.0.0.1:8000/api/users/type-zero\";\n        if (state.selectedAgency) {\n          url += `?agence_id=${state.selectedAgency}`;\n        }\n        const response = await getWithCache(url, {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        });\n        commit('setUsers', response.data);\n      } catch (error) {\n        console.error(\"Error fetching users:\", error);\n      }\n    },\n    async fetchAgencies({ commit }) {\n      try {\n        const response = await getWithCache(\"http://127.0.0.1:8000/api/agences\", {\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        });\n        commit('setAgencies', response.data.agences);\n      } catch (error) {\n        console.error(\"Error fetching agencies:\", error);\n      }\n    },\n  },\n});\n\nexport default store;\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAClC,SAASC,YAAY,QAAQ,QAAQ;AAErC,MAAMC,KAAK,GAAGF,WAAW,CAAC;EACxBG,KAAKA,CAAA,EAAG;IACN,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE,EAAE;MACZC,mBAAmB,EAAE,KAAK;MAC1BC,YAAY,EAAE,CAAC;IACjB,CAAC;EACH,CAAC;EACDC,SAAS,EAAE;IACTC,QAAQA,CAACN,KAAK,EAAEC,KAAK,EAAE;MACrBD,KAAK,CAACC,KAAK,GAAGA,KAAK;IACrB,CAAC;IACDM,WAAWA,CAACP,KAAK,EAAEE,QAAQ,EAAE;MAC3BF,KAAK,CAACE,QAAQ,GAAGA,QAAQ;IAC3B,CAAC;IACDM,sBAAsBA,CAACR,KAAK,EAAES,IAAI,EAAE;MAClCT,KAAK,CAACG,mBAAmB,GAAGM,IAAI;IAClC,CAAC;IACDC,eAAeA,CAACV,KAAK,EAAEW,IAAI,EAAE;MAC3BX,KAAK,CAACI,YAAY,GAAGO,IAAI;IAC3B;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAC;MAAEC,MAAM;MAAEd;IAAM,CAAC,EAAE;MAClC,IAAI;QACF,IAAIe,GAAG,GAAG,2CAA2C;QACrD,IAAIf,KAAK,CAACgB,cAAc,EAAE;UACxBD,GAAG,IAAI,cAAcf,KAAK,CAACgB,cAAc,EAAE;QAC7C;QACA,MAAMC,QAAQ,GAAG,MAAMnB,YAAY,CAACiB,GAAG,EAAE;UACvCG,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACFP,MAAM,CAAC,UAAU,EAAEG,QAAQ,CAACK,IAAI,CAAC;MACnC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C;IACF,CAAC;IACD,MAAME,aAAaA,CAAC;MAAEX;IAAO,CAAC,EAAE;MAC9B,IAAI;QACF,MAAMG,QAAQ,GAAG,MAAMnB,YAAY,CAAC,mCAAmC,EAAE;UACvEoB,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;UACxD;QACF,CAAC,CAAC;QACFP,MAAM,CAAC,aAAa,EAAEG,QAAQ,CAACK,IAAI,CAACI,OAAO,CAAC;MAC9C,CAAC,CAAC,OAAOH,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF;EACF;AACF,CAAC,CAAC;AAEF,eAAexB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}