{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"p-10\"\n};\nconst _hoisted_2 = {\n  class: \"max-w-full mx-auto rounded\"\n};\nconst _hoisted_3 = {\n  class: \"relative flex flex-col w-full h-full bg-white shadow-md text-slate-700 rounded-xl bg-clip-border\"\n};\nconst _hoisted_4 = {\n  class: \"grid grid-cols-2 gap-4 p-4 md:grid-cols-3 lg:grid-cols-4\"\n};\nconst _hoisted_5 = {\n  class: \"font-semibold text-center text-gray-700\"\n};\nconst _hoisted_6 = {\n  class: \"font-semibold text-center text-gray-700\"\n};\nconst _hoisted_7 = {\n  class: \"relative mx-4 mt-4 overflow-hidden bg-white rounded-none text-slate-700 bg-clip-border\"\n};\nconst _hoisted_8 = {\n  class: \"flex items-center justify-between\"\n};\nconst _hoisted_9 = {\n  class: \"flex flex-col gap-2 shrink-0 sm:flex-row\"\n};\nconst _hoisted_10 = {\n  class: \"p-0 overflow-y-scroll\"\n};\nconst _hoisted_11 = {\n  class: \"w-full mt-4 text-sm text-left table-auto min-w-max\"\n};\nconst _hoisted_12 = {\n  class: \"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\"\n};\nconst _hoisted_13 = {\n  class: \"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\"\n};\nconst _hoisted_14 = {\n  class: \"p-2 border-b border-slate-200\"\n};\nconst _hoisted_15 = {\n  class: \"flex items-center gap-3\"\n};\nconst _hoisted_16 = {\n  class: \"flex flex-col\"\n};\nconst _hoisted_17 = {\n  class: \"text-sm font-semibold uppercase text-slate-700\"\n};\nconst _hoisted_18 = {\n  class: \"p-2 border-b border-slate-200\"\n};\nconst _hoisted_19 = {\n  class: \"flex flex-col\"\n};\nconst _hoisted_20 = {\n  class: \"text-sm font-semibold text-slate-700\"\n};\nconst _hoisted_21 = {\n  class: \"p-2 border-b border-slate-200\"\n};\nconst _hoisted_22 = {\n  class: \"flex flex-col\"\n};\nconst _hoisted_23 = {\n  class: \"text-[9px] font-semibold text-slate-700 whitespace-normal\"\n};\nconst _hoisted_24 = {\n  class: \"p-2 border-b border-slate-200\"\n};\nconst _hoisted_25 = {\n  class: \"p-2 border-b border-slate-200\"\n};\nconst _hoisted_26 = [\"onClick\"];\nconst _hoisted_27 = {\n  class: \"flex items-center justify-between p-2 mt-4\"\n};\nconst _hoisted_28 = [\"disabled\"];\nconst _hoisted_29 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Color Cards \"), _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.colors, (color, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"p-4 bg-white rounded shadow\"\n    }, [_createElementVNode(\"div\", _hoisted_5, _toDisplayString(color.name), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_6, _toDisplayString(color.count) + \" / \" + _toDisplayString($options.totalClients), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createCommentVNode(\" Table Header and Actions \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[7] || (_cache[7] = _createElementVNode(\"div\", null, [_createElementVNode(\"h3\", {\n    class: \"text-lg font-semibold capitalize text-slate-800\"\n  }, \"Liste des Missions\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: \"/addclient\",\n    class: \"flex select-none items-center gap-2 rounded bg-slate-800 py-2 px-4 text-xs font-semibold text-white shadow-md shadow-slate-900/10 transition-all hover:shadow-lg hover:shadow-slate-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none\",\n    type: \"button\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createElementVNode(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      fill: \"currentColor\",\n      \"aria-hidden\": \"true\",\n      \"stroke-width\": \"2\",\n      class: \"w-4 h-4\"\n    }, [_createElementVNode(\"path\", {\n      d: \"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z\"\n    })], -1 /* HOISTED */), _createTextVNode(\" Ajouter un Client \")])),\n    _: 1 /* STABLE */\n  })])])]), _createCommentVNode(\" Users Table \"), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"table\", _hoisted_11, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", _hoisted_12, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchName = $event),\n    onInput: _cache[1] || (_cache[1] = $event => _ctx.SET_SEARCH_NAME($data.searchName)),\n    placeholder: \"Rechercher par nom...\",\n    class: \"p-2 border rounded border-slate-300\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchName]])]), _createElementVNode(\"th\", _hoisted_13, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchAbbreviation = $event),\n    onInput: _cache[3] || (_cache[3] = $event => _ctx.SET_SEARCH_ABBREVIATION($data.searchAbbreviation)),\n    placeholder: \"Rechercher par abréviation...\",\n    class: \"p-2 border rounded border-slate-300\"\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchAbbreviation]])]), _cache[8] || (_cache[8] = _createElementVNode(\"th\", {\n    class: \"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\"\n  }, [_createElementVNode(\"p\", {\n    class: \"flex items-center justify-between gap-2 font-sans leading-none text-slate-500\"\n  }, \"Description\")], -1 /* HOISTED */)), _cache[9] || (_cache[9] = _createElementVNode(\"th\", {\n    class: \"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\"\n  }, [_createElementVNode(\"p\", {\n    class: \"flex items-center justify-between gap-2 font-sans leading-none text-slate-500\"\n  }, \"Modifier\")], -1 /* HOISTED */)), _cache[10] || (_cache[10] = _createElementVNode(\"th\", {\n    class: \"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\"\n  }, [_createElementVNode(\"p\", {\n    class: \"flex items-center justify-between gap-2 font-sans leading-none text-slate-500\"\n  }, \"Supprimer\")], -1 /* HOISTED */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedClients, client => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: client.id\n    }, [_createElementVNode(\"td\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"p\", _hoisted_17, _toDisplayString(client.nom), 1 /* TEXT */)])])]), _createElementVNode(\"td\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"p\", _hoisted_20, _toDisplayString(client.abbreviation), 1 /* TEXT */)])]), _createElementVNode(\"td\", _hoisted_21, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"p\", _hoisted_23, _toDisplayString(client.description), 1 /* TEXT */)])]), _createElementVNode(\"td\", _hoisted_24, [_createVNode(_component_router_link, {\n      to: `/updateclient/${client.id}`\n    }, {\n      default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createElementVNode(\"button\", {\n        class: \"relative w-8 h-8 font-sans text-xs font-medium text-center uppercase align-middle transition-all rounded-lg select-none text-slate-900 hover:bg-slate-900/10 active:bg-slate-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none\"\n      }, [_createElementVNode(\"span\", {\n        class: \"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\"\n      }, [_createElementVNode(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        \"aria-hidden\": \"true\",\n        class: \"w-4 h-4\"\n      }, [_createElementVNode(\"path\", {\n        d: \"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z\"\n      })])])], -1 /* HOISTED */)]))]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]), _createElementVNode(\"td\", _hoisted_25, [_createElementVNode(\"button\", {\n      onClick: $event => $options.deleteClient(client.id),\n      class: \"relative w-8 h-8 font-sans text-xs font-medium text-center text-red-600 uppercase align-middle transition-all rounded-lg select-none hover:bg-red-600/10 active:bg-red-600/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none\"\n    }, [...(_cache[12] || (_cache[12] = [_createElementVNode(\"span\", {\n      class: \"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\"\n    }, [_createElementVNode(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 24 24\",\n      fill: \"currentColor\",\n      \"aria-hidden\": \"true\",\n      class: \"w-4 h-4\"\n    }, [_createElementVNode(\"path\", {\n      d: \"M3 6h18M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2M10 6h4m-6 1v12a1 1 0 001 1h8a1 1 0 001-1V7H4z\"\n    })])], -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_26)])]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" Pagination \"), _createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.prevPage && $options.prevPage(...args)),\n    disabled: $data.currentPage === 1,\n    class: \"px-4 py-2 text-gray-700 bg-gray-300 rounded-full shadow-lg disabled:opacity-50\"\n  }, \"Précédent\", 8 /* PROPS */, _hoisted_28), _createElementVNode(\"span\", null, \"Page \" + _toDisplayString($data.currentPage) + \" de \" + _toDisplayString($options.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.nextPage && $options.nextPage(...args)),\n    disabled: $data.currentPage === $options.totalPages,\n    class: \"px-4 py-2 text-gray-700 bg-gray-300 rounded-full shadow-lg disabled:opacity-50\"\n  }, \"Suivant\", 8 /* PROPS */, _hoisted_29)])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createCommentVNode","_hoisted_4","_Fragment","_renderList","$options","colors","color","index","key","_hoisted_5","_toDisplayString","name","_hoisted_6","count","totalClients","_hoisted_7","_hoisted_8","_hoisted_9","_createVNode","_component_router_link","to","type","default","_withCtx","_cache","xmlns","viewBox","fill","d","_createTextVNode","_","_hoisted_10","_hoisted_11","_hoisted_12","$event","$data","searchName","onInput","_ctx","SET_SEARCH_NAME","placeholder","_hoisted_13","searchAbbreviation","SET_SEARCH_ABBREVIATION","paginatedClients","client","id","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","nom","_hoisted_18","_hoisted_19","_hoisted_20","abbreviation","_hoisted_21","_hoisted_22","_hoisted_23","description","_hoisted_24","_hoisted_25","onClick","deleteClient","_hoisted_26","_hoisted_27","args","prevPage","disabled","currentPage","_hoisted_28","totalPages","nextPage","_hoisted_29"],"sources":["C:\\Users\\gongue\\Desktop\\frontsbs\\src\\components\\clients\\ClientsComponent.vue"],"sourcesContent":["<template>\r\n  <div class=\"p-10\">\r\n    <div class=\"max-w-full mx-auto rounded\">\r\n      <div class=\"relative flex flex-col w-full h-full bg-white shadow-md text-slate-700 rounded-xl bg-clip-border\">\r\n\r\n        <!-- Color Cards -->\r\n        <div class=\"grid grid-cols-2 gap-4 p-4 md:grid-cols-3 lg:grid-cols-4\">\r\n          <div v-for=\"(color, index) in colors\" :key=\"index\" class=\"p-4 bg-white rounded shadow\">\r\n            <div class=\"font-semibold text-center text-gray-700\">{{ color.name }}</div>\r\n            <div class=\"font-semibold text-center text-gray-700\">{{ color.count }} / {{ totalClients }}</div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Table Header and Actions -->\r\n        <div class=\"relative mx-4 mt-4 overflow-hidden bg-white rounded-none text-slate-700 bg-clip-border\">\r\n          <div class=\"flex items-center justify-between\">\r\n            <div>\r\n              <h3 class=\"text-lg font-semibold capitalize text-slate-800\">Liste des Missions</h3>\r\n            </div>\r\n            <div class=\"flex flex-col gap-2 shrink-0 sm:flex-row\">\r\n              <router-link to=\"/addclient\" class=\"flex select-none items-center gap-2 rounded bg-slate-800 py-2 px-4 text-xs font-semibold text-white shadow-md shadow-slate-900/10 transition-all hover:shadow-lg hover:shadow-slate-900/20 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none\" type=\"button\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\" stroke-width=\"2\" class=\"w-4 h-4\">\r\n                  <path d=\"M6.25 6.375a4.125 4.125 0 118.25 0 4.125 4.125 0 01-8.25 0zM3.25 19.125a7.125 7.125 0 0114.25 0v.003l-.001.119a.75.75 0 01-.363.63 13.067 13.067 0 01-6.761 1.873c-2.472 0-4.786-.684-6.76-1.873a.75.75 0 01-.364-.63l-.001-.122zM19.75 7.5a.75.75 0 00-1.5 0v2.25H16a.75.75 0 000 1.5h2.25v2.25a.75.75 0 001.5 0v-2.25H22a.75.75 0 000-1.5h-2.25V7.5z\"></path>\r\n                </svg>\r\n                Ajouter un Client\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Users Table -->\r\n        <div class=\"p-0 overflow-y-scroll\">\r\n          <table class=\"w-full mt-4 text-sm text-left table-auto min-w-max\">\r\n            <thead>\r\n              <tr>\r\n                <th class=\"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\">\r\n                  <input v-model=\"searchName\" @input=\"SET_SEARCH_NAME(searchName)\" placeholder=\"Rechercher par nom...\" class=\"p-2 border rounded border-slate-300\" />\r\n                </th>\r\n                <th class=\"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\">\r\n                  <input v-model=\"searchAbbreviation\" @input=\"SET_SEARCH_ABBREVIATION(searchAbbreviation)\" placeholder=\"Rechercher par abréviation...\" class=\"p-2 border rounded border-slate-300\" />\r\n                </th>\r\n                <th class=\"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\">\r\n                  <p class=\"flex items-center justify-between gap-2 font-sans leading-none text-slate-500\">Description</p>\r\n                </th>\r\n                <th class=\"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\">\r\n                  <p class=\"flex items-center justify-between gap-2 font-sans leading-none text-slate-500\">Modifier</p>\r\n                </th>\r\n                <th class=\"p-2 transition-colors cursor-pointer border-y border-slate-200 bg-slate-50 hover:bg-slate-100\">\r\n                  <p class=\"flex items-center justify-between gap-2 font-sans leading-none text-slate-500\">Supprimer</p>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"client in paginatedClients\" :key=\"client.id\">\r\n                <td class=\"p-2 border-b border-slate-200\">\r\n                  <div class=\"flex items-center gap-3\">\r\n                    <div class=\"flex flex-col\">\r\n                      <p class=\"text-sm font-semibold uppercase text-slate-700\">{{ client.nom }}</p>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"p-2 border-b border-slate-200\">\r\n                  <div class=\"flex flex-col\">\r\n                    <p class=\"text-sm font-semibold text-slate-700\">{{ client.abbreviation }}</p>\r\n                  </div>\r\n                </td>\r\n                <td class=\"p-2 border-b border-slate-200\">\r\n                  <div class=\"flex flex-col\">\r\n                    <p class=\"text-[9px] font-semibold text-slate-700 whitespace-normal\">{{ client.description }}</p>\r\n                  </div>\r\n                </td>\r\n                <td class=\"p-2 border-b border-slate-200\">\r\n                  <router-link :to=\"`/updateclient/${client.id}`\">\r\n                    <button class=\"relative w-8 h-8 font-sans text-xs font-medium text-center uppercase align-middle transition-all rounded-lg select-none text-slate-900 hover:bg-slate-900/10 active:bg-slate-900/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none\">\r\n                      <span class=\"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\" class=\"w-4 h-4\">\r\n                          <path d=\"M21.731 2.269a2.625 2.625 0 00-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 000-3.712zM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 00-1.32 2.214l-.8 2.685a.75.75 0 00.933.933l2.685-.8a5.25 5.25 0 002.214-1.32L19.513 8.2z\"></path>\r\n                        </svg>\r\n                      </span>\r\n                    </button>\r\n                  </router-link>\r\n                </td>\r\n                <td class=\"p-2 border-b border-slate-200\">\r\n                  <button @click=\"deleteClient(client.id)\" class=\"relative w-8 h-8 font-sans text-xs font-medium text-center text-red-600 uppercase align-middle transition-all rounded-lg select-none hover:bg-red-600/10 active:bg-red-600/20 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none\">\r\n                    <span class=\"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" aria-hidden=\"true\" class=\"w-4 h-4\">\r\n                        <path d=\"M3 6h18M9 6V4a1 1 0 011-1h4a1 1 0 011 1v2M10 6h4m-6 1v12a1 1 0 001 1h8a1 1 0 001-1V7H4z\"></path>\r\n                      </svg>\r\n                    </span>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <!-- Pagination -->\r\n        <div class=\"flex items-center justify-between p-2 mt-4\">\r\n          <button @click=\"prevPage\" :disabled=\"currentPage === 1\" class=\"px-4 py-2 text-gray-700 bg-gray-300 rounded-full shadow-lg disabled:opacity-50\">Précédent</button>\r\n          <span>Page {{ currentPage }} de {{ totalPages }}</span>\r\n          <button @click=\"nextPage\" :disabled=\"currentPage === totalPages\" class=\"px-4 py-2 text-gray-700 bg-gray-300 rounded-full shadow-lg disabled:opacity-50\">Suivant</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { API_URL } from '@/config'; // Importer API_URL\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      isModalOpen: false,\r\n      selectedClient: null,\r\n      clients: [],\r\n      searchName: \"\",\r\n      searchAbbreviation: \"\",\r\n      showDetailModal: false,\r\n      showAddInterventionModal: false,\r\n      clientDetail: {},\r\n      newIntervention: {\r\n        titre: \"\",\r\n        commentaire: \"\",\r\n        date_debut: \"\",\r\n        date_fin: \"\",\r\n      },\r\n      currentPage: 1,\r\n      itemsPerPage: 10,\r\n    };\r\n  },\r\n  computed: {\r\n    filteredClients() {\r\n      return this.clients.filter((client) =>\r\n        client.nom.toLowerCase().includes(this.searchName.toLowerCase()) &&\r\n        client.abbreviation.toLowerCase().includes(this.searchAbbreviation.toLowerCase())\r\n      );\r\n    },\r\n    paginatedClients() {\r\n      const start = (this.currentPage - 1) * this.itemsPerPage;\r\n      const end = start + this.itemsPerPage;\r\n      return this.filteredClients.slice(start, end);\r\n    },\r\n    totalPages() {\r\n      return Math.ceil(this.filteredClients.length / this.itemsPerPage);\r\n    },\r\n    totalClients() {\r\n      return this.clients.length;\r\n    },\r\n    colors() {\r\n      const colorCounts = this.clients.reduce((acc, client) => {\r\n        acc[client.color] = (acc[client.color] || 0) + 1;\r\n        return acc;\r\n      }, {});\r\n      return [\r\n        { name: \"Mission confirmée (Orange)\", count: colorCounts[1] || 0 },\r\n        { name: \"Prévision de mission (Jaune)\", count: colorCounts[2] || 0 },\r\n        { name: \"Voyage (Bleu clair)\", count: colorCounts[3] || 0 },\r\n        { name: \"Congé (Bleu ciel)\", count: colorCounts[4] || 0 },\r\n        { name: \"Formation (Bleu)\", count: colorCounts[5] || 0 },\r\n        { name: \"Récupération (Rouge)\", count: colorCounts[6] || 0 },\r\n        { name: \"Congé maladie (Violet)\", count: colorCounts[7] || 0 },\r\n        { name: \"Université (Sky)\", count: colorCounts[8] || 0 },\r\n        { name: \"Avant Vente (Teal)\", count: colorCounts[9] || 0 },\r\n        { name: \"Prévision de Congé (Maron)\", count: colorCounts[10] || 0 },\r\n        { name: \"Prévision de Récupération (Indigo)\", count: colorCounts[11] || 0 },\r\n        { name: \"Prévision de Formation (Rose)\", count: colorCounts[12] || 0 },\r\n      ];\r\n    },\r\n  },\r\n  watch: {\r\n    searchName() {\r\n      this.currentPage = 1;\r\n    },\r\n    searchAbbreviation() {\r\n      this.currentPage = 1;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchClients();\r\n  },\r\n  methods: {\r\n    async fetchClients() {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/clients`, {\r\n          headers: {\r\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n          },\r\n        });\r\n        this.clients = response.data;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async fetchClientDetail(clientId) {\r\n      try {\r\n        const response = await axios.get(\r\n          `${API_URL}/clients/${clientId}`,\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n          }\r\n        );\r\n        this.clientDetail = response.data;\r\n        this.showDetailModal = true;\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    async deleteClient(clientId) {\r\n      if (confirm(\"Es-tu sûr de vouloir supprimer ce client ?\")) {\r\n        try {\r\n          await axios.delete(`${API_URL}/clients/${clientId}`, {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n          });\r\n          this.clients = this.clients.filter((client) => client.id !== clientId);\r\n        } catch (error) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    },\r\n    openDetailModal(client) {\r\n      this.selectedClient = client;\r\n      this.isModalOpen = true;\r\n    },\r\n    closeDetailModal() {\r\n      this.isModalOpen = false;\r\n      this.selectedClient = null;\r\n    },\r\n    openAddInterventionModal(clientId) {\r\n      this.currentClientId = clientId; // Assure-toi que clientId passé ici est valide\r\n      this.showAddInterventionModal = true;\r\n    },\r\n    closeAddInterventionModal() {\r\n      this.showAddInterventionModal = false;\r\n    },\r\n    async addIntervention() {\r\n      try {\r\n        await axios.post(\r\n          `${API_URL}/interventions`,\r\n          {\r\n            ...this.newIntervention, // Assure-toi que cela inclut bien client_id\r\n            client_id: this.currentClientId, // Vérifie que currentClientId est bien défini\r\n          },\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n            },\r\n          }\r\n        );\r\n        this.fetchClientDetail(this.currentClientId);\r\n        this.closeAddInterventionModal();\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    },\r\n    prevPage() {\r\n      if (this.currentPage > 1) {\r\n        this.currentPage--;\r\n      }\r\n    },\r\n    nextPage() {\r\n      if (this.currentPage < this.totalPages) {\r\n        this.currentPage++;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add any necessary styles here */\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}